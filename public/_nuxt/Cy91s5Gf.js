import{U as q,e as K,g as D,m as C,c as d,b as F,w as i,i as o,j as Q,o as s,d as u,a as t,F as m,k as v,l as x,t as a}from"./BplbHKK2.js";import{U as W}from"./BG7rx7OP.js";import{_ as X}from"./C0mHO0TK.js";import{u as G}from"./D1UeTPSR.js";import"./CCf6Uqzh.js";import"./pwc9pubm.js";import"./BfIatRPv.js";const j={getAll:async()=>await G(q.MeetingCenter,{method:"GET",server:!1}),create:async()=>await G(q.MeetingCenter,{method:"POST",server:!1,lazy:!0,immediate:!1})},Y={class:"flex flex-wrap gap-2"},Z={class:"flex flex-wrap gap-2"},h={class:"flex flex-wrap gap-2"},ee={class:"flex flex-wrap gap-2"},te={class:"flex flex-wrap gap-2"},le={class:"flex flex-wrap gap-2"},se={class:"flex flex-wrap gap-2"},ne={class:"flex flex-wrap gap-2"},re={class:"flex flex-wrap gap-2"},ae={class:"flex flex-wrap gap-2"},ie={class:"flex flex-wrap gap-2"},oe={class:"flex flex-wrap gap-2"},ue={class:"flex flex-wrap gap-2"},fe={class:"flex flex-wrap gap-2"},ye=K({__name:"meetingCenter",async setup(de){let y,R;const{data:S,refresh:V}=([y,R]=D(()=>j.getAll()),y=await y,R(),y),{execute:E,status:O}=([y,R]=D(()=>j.create()),y=await y,R(),y),_=C(()=>{var n;return(n=S.value)==null?void 0:n.data}),L=C(()=>{var n;return(n=_.value)==null?void 0:n.filter(e=>e.identity==="兒童")}),P=C(()=>{var n;return(n=_.value)==null?void 0:n.filter(e=>e.identity!=="兒童")}),U=C(()=>{var n;return(n=_.value)==null?void 0:n.filter(e=>e.districtName==="一區")}),b=C(()=>{var n;return(n=_.value)==null?void 0:n.filter(e=>e.districtName==="二區")}),B=C(()=>{var n;return(n=_.value)==null?void 0:n.filter(e=>e.districtName==="三區")}),M=C(()=>{var n;return(n=_.value)==null?void 0:n.filter(e=>e.districtName==="四區")}),$=[{label:"報名名單",slot:"join"},{label:"搭乘遊覽車",slot:"departure"},{label:"自行前往",slot:"selfGo"}],H=async()=>{await E(),await V()},w=n=>n==="男介朋友"||n==="女介朋友"||n==="兒童";return(n,e)=>{const I=Q,p=W,J=X;return s(),d("div",null,[F(I,{size:"sm",variant:"soft",loading:o(O)==="pending",onClick:H},{default:i(()=>e[0]||(e[0]=[u(" 更新數據 ")])),_:1},8,["loading"]),F(J,{items:$,variant:"link",class:"gap-4 w-full",ui:{trigger:"flex-1"}},{join:i(()=>{var k,z,g;return[t("div",null,"總報名："+a((k=o(_))==null?void 0:k.length)+"位",1),t("div",null,"成人"+a((z=o(P))==null?void 0:z.length)+"位,兒童"+a((g=o(L))==null?void 0:g.length)+"位",1),e[1]||(e[1]=t("p",{class:"text-sm text-red-600"},[u(" 請於5/27日前"),t("br"),u("協助調查是否搭乘遊覽車～謝謝 ")],-1)),e[2]||(e[2]=t("p",null,"一區",-1)),t("div",Y,[(s(!0),d(m,null,v(o(U),(r,c)=>(s(),x(p,{key:c,color:w(r.identity)?"success":"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(r.name)+a(w(r.identity)?"(福音朋友)":""),1)]),_:2},1032,["color"]))),128))]),e[3]||(e[3]=t("p",null,"二區",-1)),t("div",Z,[(s(!0),d(m,null,v(o(b),(r,c)=>(s(),x(p,{key:c,color:w(r.identity)?"success":"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(r.name)+a(w(r.identity)?"(福音朋友)":""),1)]),_:2},1032,["color"]))),128))]),e[4]||(e[4]=t("p",null,"三區",-1)),t("div",h,[(s(!0),d(m,null,v(o(B),(r,c)=>(s(),x(p,{key:c,color:w(r.identity)?"success":"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(r.name)+a(w(r.identity)?"(福音朋友)":""),1)]),_:2},1032,["color"]))),128))]),e[5]||(e[5]=t("p",null,"四區",-1)),t("div",ee,[(s(!0),d(m,null,v(o(M),(r,c)=>(s(),x(p,{key:c,color:w(r.identity)?"success":"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(r.name)+a(w(r.identity)?"(福音朋友)":""),1)]),_:2},1032,["color"]))),128))])]}),departure:i(()=>{var k,z,g,r,c,N,T,A;return[t("div",null,[e[6]||(e[6]=t("p",null,"搭乘去程遊覽車",-1)),e[7]||(e[7]=t("p",null,"一區:",-1)),t("div",te,[(s(!0),d(m,null,v((k=o(U))==null?void 0:k.filter(l=>l.departure==="搭乘去程"),(l,f)=>(s(),x(p,{key:f,color:"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(l.name),1)]),_:2},1024))),128))]),e[8]||(e[8]=t("p",null,"二區:",-1)),t("div",le,[(s(!0),d(m,null,v((z=o(b))==null?void 0:z.filter(l=>l.departure==="搭乘去程"),(l,f)=>(s(),x(p,{key:f,color:"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(l.name),1)]),_:2},1024))),128))]),e[9]||(e[9]=t("p",null,"三區:",-1)),t("div",se,[(s(!0),d(m,null,v((g=o(B))==null?void 0:g.filter(l=>l.departure==="搭乘去程"),(l,f)=>(s(),x(p,{key:f,color:"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(l.name),1)]),_:2},1024))),128))]),e[10]||(e[10]=t("p",null,"四區:",-1)),t("div",ne,[(s(!0),d(m,null,v((r=o(M))==null?void 0:r.filter(l=>l.departure==="搭乘去程"),(l,f)=>(s(),x(p,{key:f,color:"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(l.name),1)]),_:2},1024))),128))])]),e[11]||(e[11]=t("p",null,"----------------",-1)),e[12]||(e[12]=t("p",null,"搭乘回程遊覽車",-1)),e[13]||(e[13]=t("p",null,"一區:",-1)),t("div",re,[(s(!0),d(m,null,v((c=o(U))==null?void 0:c.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(s(),x(p,{key:f,color:"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(l.name),1)]),_:2},1024))),128))]),e[14]||(e[14]=t("p",null,"二區:",-1)),t("div",ae,[(s(!0),d(m,null,v((N=o(b))==null?void 0:N.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(s(),x(p,{key:f,color:"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(l.name),1)]),_:2},1024))),128))]),e[15]||(e[15]=t("p",null,"三區:",-1)),t("div",ie,[(s(!0),d(m,null,v((T=o(B))==null?void 0:T.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(s(),x(p,{key:f,color:"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(l.name),1)]),_:2},1024))),128))]),e[16]||(e[16]=t("p",null,"四區:",-1)),t("div",oe,[(s(!0),d(m,null,v((A=o(M))==null?void 0:A.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(s(),x(p,{key:f,color:"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(l.name),1)]),_:2},1024))),128))])]}),selfGo:i(()=>{var k,z;return[e[17]||(e[17]=t("p",null,"自行前往(早):",-1)),t("div",ue,[(s(!0),d(m,null,v((k=o(_))==null?void 0:k.filter(g=>g.departure==="自行前往"),(g,r)=>(s(),x(p,{key:r,color:"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(g.name),1)]),_:2},1024))),128))]),e[18]||(e[18]=t("p",null,"不搭回程(午):",-1)),t("div",fe,[(s(!0),d(m,null,v((z=o(_))==null?void 0:z.filter(g=>g.returnRide==="不搭回程"),(g,r)=>(s(),x(p,{key:r,color:"info",variant:"soft",size:"sm"},{default:i(()=>[u(a(g.name),1)]),_:2},1024))),128))])]}),_:1})])}}});export{ye as default};
