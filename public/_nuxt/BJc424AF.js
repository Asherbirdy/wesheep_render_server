import{U as G,e as W,g as S,n as C,c as d,b as A,w as o,i,l as X,o as n,d as u,a as e,F as v,m,j as g,t as a}from"./CTl1oznX.js";import{U as Y}from"./eJwYv-S1.js";import{_ as Z}from"./BEza2Rf3.js";import{u as q}from"./DlCxXzD7.js";import"./C0dNTGsZ.js";import"./vbm2w1uJ.js";import"./Co_A6Eka.js";const I={getAll:async()=>await q(G.MeetingCenter,{method:"GET",server:!1}),create:async()=>await q(G.MeetingCenter,{method:"POST",server:!1,lazy:!0,immediate:!1})},h={class:"flex flex-wrap gap-2"},tt={class:"flex flex-wrap gap-2"},et={class:"flex flex-wrap gap-2"},lt={class:"flex flex-wrap gap-2"},nt={class:"flex flex-wrap gap-2"},rt={class:"flex flex-wrap gap-2"},st={class:"flex flex-wrap gap-2"},at={class:"flex flex-wrap gap-2"},ot={class:"flex flex-wrap gap-2"},it={class:"flex flex-wrap gap-2"},ut={class:"flex flex-wrap gap-2"},ft={class:"flex flex-wrap gap-2"},dt={class:"flex flex-wrap gap-2"},pt={class:"flex flex-wrap gap-2"},kt=W({__name:"meetingCenter",async setup(vt){let y,R;const{data:j,refresh:O}=([y,R]=S(()=>I.getAll()),y=await y,R(),y),{execute:V,status:z}=([y,R]=S(()=>I.create()),y=await y,R(),y),_=C(()=>{var r;return(r=j.value)==null?void 0:r.data}),L=C(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.identity==="兒童")}),P=C(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.identity!=="兒童")}),T=C(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.districtName==="一區")}),U=C(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.districtName==="二區")}),B=C(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.districtName==="三區")}),M=C(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.districtName==="四區")}),$=[{label:"報名名單",slot:"join"},{label:"搭乘遊覽車",slot:"departure"},{label:"自行前往",slot:"selfGo"}],H=async()=>{await V(),await O()},J=["男介朋友","女介朋友","兒童"],b=r=>J.includes(r),N=r=>r==="兒童"?"(兒童)":r==="男介朋友"||r==="女介朋友"?"(福音朋友)":"";return(r,t)=>{const K=X,p=Y,Q=Z;return n(),d("div",null,[A(K,{size:"sm",variant:"soft",loading:i(z)==="pending",onClick:H},{default:o(()=>t[0]||(t[0]=[u(" 更新數據 ")])),_:1},8,["loading"]),A(Q,{items:$,variant:"link",class:"gap-4 w-full",ui:{trigger:"flex-1"}},{join:o(()=>{var w,k,x;return[e("div",null,"6/8 港湖集中主日 報名："+a((w=i(_))==null?void 0:w.length)+"位",1),e("div",null,"成人"+a((k=i(P))==null?void 0:k.length)+"位,兒童"+a((x=i(L))==null?void 0:x.length)+"位",1),t[1]||(t[1]=e("p",{class:"text-sm text-red-600"},[u(" 請於5/27日前"),e("br"),u("協助調查是否搭乘遊覽車～謝謝 ")],-1)),t[2]||(t[2]=e("p",null,"一區",-1)),e("div",h,[(n(!0),d(v,null,m(i(T),(s,c)=>(n(),g(p,{key:c,color:b(s.identity)?"success":"info",variant:"soft"},{default:o(()=>[u(a(s.name)+a(N(s.identity)),1)]),_:2},1032,["color"]))),128))]),t[3]||(t[3]=e("p",null,"二區",-1)),e("div",tt,[(n(!0),d(v,null,m(i(U),(s,c)=>(n(),g(p,{key:c,color:b(s.identity)?"success":"info",variant:"soft"},{default:o(()=>[u(a(s.name)+a(N(s.identity)),1)]),_:2},1032,["color"]))),128))]),t[4]||(t[4]=e("p",null,"三區",-1)),e("div",et,[(n(!0),d(v,null,m(i(B),(s,c)=>(n(),g(p,{key:c,color:b(s.identity)?"success":"info",variant:"soft"},{default:o(()=>[u(a(s.name)+a(N(s.identity)),1)]),_:2},1032,["color"]))),128))]),t[5]||(t[5]=e("p",null,"四區",-1)),e("div",lt,[(n(!0),d(v,null,m(i(M),(s,c)=>(n(),g(p,{key:c,color:b(s.identity)?"success":"info",variant:"soft"},{default:o(()=>[u(a(s.name)+a(N(s.identity)),1)]),_:2},1032,["color"]))),128))])]}),departure:o(()=>{var w,k,x,s,c,D,E,F;return[e("div",null,[t[6]||(t[6]=e("p",null,"6/8 港湖集中主日 要搭遊覽車人位",-1)),t[7]||(t[7]=e("p",{class:"font-bold"}," 搭乘去程遊覽車(東湖->信基) ",-1)),t[8]||(t[8]=e("p",null,"一區:",-1)),e("div",nt,[(n(!0),d(v,null,m((w=i(T))==null?void 0:w.filter(l=>l.departure==="搭乘去程"),(l,f)=>(n(),g(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[9]||(t[9]=e("p",null,"二區:",-1)),e("div",rt,[(n(!0),d(v,null,m((k=i(U))==null?void 0:k.filter(l=>l.departure==="搭乘去程"),(l,f)=>(n(),g(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[10]||(t[10]=e("p",null,"三區:",-1)),e("div",st,[(n(!0),d(v,null,m((x=i(B))==null?void 0:x.filter(l=>l.departure==="搭乘去程"),(l,f)=>(n(),g(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[11]||(t[11]=e("p",null,"四區:",-1)),e("div",at,[(n(!0),d(v,null,m((s=i(M))==null?void 0:s.filter(l=>l.departure==="搭乘去程"),(l,f)=>(n(),g(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))])]),t[12]||(t[12]=e("p",{class:"font-bold"}," 搭乘回程遊覽車(信基->東湖) ",-1)),t[13]||(t[13]=e("p",null,"一區:",-1)),e("div",ot,[(n(!0),d(v,null,m((c=i(T))==null?void 0:c.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(n(),g(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[14]||(t[14]=e("p",null,"二區:",-1)),e("div",it,[(n(!0),d(v,null,m((D=i(U))==null?void 0:D.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(n(),g(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[15]||(t[15]=e("p",null,"三區:",-1)),e("div",ut,[(n(!0),d(v,null,m((E=i(B))==null?void 0:E.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(n(),g(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[16]||(t[16]=e("p",null,"四區:",-1)),e("div",ft,[(n(!0),d(v,null,m((F=i(M))==null?void 0:F.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(n(),g(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))])]}),selfGo:o(()=>{var w,k;return[t[17]||(t[17]=e("p",null,"自行前往(早):",-1)),e("div",dt,[(n(!0),d(v,null,m((w=i(_))==null?void 0:w.filter(x=>x.departure==="自行前往"),(x,s)=>(n(),g(p,{key:s,color:"info",variant:"soft"},{default:o(()=>[u(a(x.name),1)]),_:2},1024))),128))]),t[18]||(t[18]=e("p",null,"不搭回程(午):",-1)),e("div",pt,[(n(!0),d(v,null,m((k=i(_))==null?void 0:k.filter(x=>x.returnRide==="不搭回程"),(x,s)=>(n(),g(p,{key:s,color:"info",variant:"soft"},{default:o(()=>[u(a(x.name),1)]),_:2},1024))),128))])]}),_:1})])}}});export{kt as default};
