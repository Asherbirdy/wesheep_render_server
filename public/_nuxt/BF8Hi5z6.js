import{U as ft}from"./BdPsgYod.js";import{a as Qe,_ as mt}from"./BdwLYK20.js";import{m as K,n as gt,p as et,q as vt,r as P,e as L,h as tt,l as z,o as r,w as p,a as F,s as V,v as B,i as t,x as ht,y as yt,z as xe,A as Be,B as je,C as _e,D as q,c as O,F as ne,k as ye,E as we,G as me,b as _,P as J,H as be,I as Te,J as Me,K as bt,L as he,M as xt,N as _t,O as at,Q as wt,R as Ct,S as St,T as nt,V as It,W as kt,X as zt,Y as $t,Z as Bt,d as fe,U as Z,$ as ot,a0 as Tt,a1 as At,a2 as Pt,a3 as $e,a4 as R,a5 as Et,t as Y,a6 as it,a7 as Lt,a8 as Dt,a9 as Ot,aa as Pe,ab as We,ac as Mt,ad as Vt,ae as Nt,af as ce,ag as Ge,ah as ve,ai as Rt,j as st,g as Ee}from"./DNIQjGSB.js";import{u as pe,a as Ut,r as lt}from"./zC88iUzS.js";import{_ as Ft,u as rt,a as Kt,b as Ht,c as jt,d as Wt}from"./DT_nj-Gi.js";import{u as Gt}from"./D9Yp0Bal.js";import{u as Ve}from"./JPW8_Bhc.js";import{u as qt,a as Yt,_ as Xt,f as qe}from"./C9B65pSQ.js";import{_ as Zt,a as Jt,b as Qt}from"./DAJIX_pf.js";import"./OJHvNX3K.js";var Le=(n=>(n.dev="dev",n.admin="admin",n.districtLeader="districtLeader",n.user="user",n))(Le||{});const ea=[{label:"開發者",value:"dev"},{label:"管理者",value:"admin"},{label:"區負責",value:"districtLeader"},{label:"使用者",value:"user"}];function Ye(n){return n==null}function ta(n){return K(()=>{var a;return gt(n)?!!((a=et(n))!=null&&a.closest("form")):!0})}function aa(n){const a=vt({nonce:P()});return K(()=>{var e;return(n==null?void 0:n.value)||((e=a.nonce)==null?void 0:e.value)})}function Xe(n,a=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){return Math.min(e,Math.max(a,n))}const na=L({__name:"BubbleSelect",props:{autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},multiple:{type:Boolean},name:{},required:{type:Boolean},size:{},value:{}},setup(n){const a=n,e=P();return tt(()=>a.value,(u,i)=>{var f;const o=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(o,"value").set;if(u!==i&&h){const s=new Event("change",{bubbles:!0});h.call(e.value,u),(f=e.value)==null||f.dispatchEvent(s)}}),(u,i)=>(r(),z(t(ht),{"as-child":""},{default:p(()=>[F("select",V({ref_key:"selectElement",ref:e},a),[B(u.$slots,"default")],16)]),_:3}))}}),oa=[" ","Enter","ArrowUp","ArrowDown"],ia=[" ","Enter"],X=10;function De(n,a,e){return n===void 0?!1:Array.isArray(n)?n.some(u=>Oe(u,a,e)):Oe(n,a,e)}function Oe(n,a,e){return n===void 0||a===void 0?!1:typeof n=="string"?n===a:typeof e=="function"?e(n,a):typeof e=="string"?(n==null?void 0:n[e])===(a==null?void 0:a[e]):yt(n,a)}const sa={key:0,value:""},[le,ut]=xe("SelectRoot"),la=L({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{default:void 0},by:{},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(n,{emit:a}){const e=n,u=a,{required:i,disabled:o,multiple:m,dir:h}=Be(e),f=je(e,"modelValue",u,{defaultValue:e.defaultValue??(m.value?[]:void 0),passive:e.modelValue===void 0,deep:!0}),s=je(e,"open",u,{defaultValue:e.defaultOpen,passive:e.open===void 0}),k=P(),b=P(),v=P({x:0,y:0}),d=K(()=>{var l;return m.value&&Array.isArray(f.value)?((l=f.value)==null?void 0:l.length)===0:Ye(f.value)});_e({isProvider:!0});const $=Gt(h),M=ta(k),D=P(new Set),U=K(()=>Array.from(D.value).map(l=>l.value).join(";"));function y(l){if(m.value){const c=Array.isArray(f.value)?[...f.value]:[],C=c.findIndex(g=>Oe(g,l,e.by));C===-1?c.push(l):c.splice(C,1),f.value=[...c]}else f.value=l}return ut({triggerElement:k,onTriggerChange:l=>{k.value=l},valueElement:b,onValueElementChange:l=>{b.value=l},contentId:"",modelValue:f,onValueChange:y,by:e.by,open:s,multiple:m,required:i,onOpenChange:l=>{s.value=l},dir:$,triggerPointerDownPosRef:v,disabled:o,isEmptyModelValue:d,optionsSet:D,onOptionAdd:l=>D.value.add(l),onOptionRemove:l=>D.value.delete(l)}),(l,c)=>(r(),z(t(Ft),null,{default:p(()=>[B(l.$slots,"default",{modelValue:t(f),open:t(s)}),t(M)?(r(),z(na,{key:U.value,"aria-hidden":"true",tabindex:"-1",multiple:t(m),required:t(i),name:l.name,autocomplete:l.autocomplete,disabled:t(o),value:t(f)},{default:p(()=>[t(Ye)(t(f))?(r(),O("option",sa)):q("",!0),(r(!0),O(ne,null,ye(Array.from(D.value),C=>(r(),O("option",V({key:C.value??"",ref_for:!0},C),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):q("",!0)]),_:3}))}}),ra=L({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n,e=le(),{forwardRef:u,currentElement:i}=we(),o=K(()=>{var v;return((v=e.disabled)==null?void 0:v.value)||a.disabled});e.contentId||(e.contentId=Ve(void 0,"reka-select-content")),me(()=>{e.onTriggerChange(i.value)});const{getItems:m}=_e(),{search:h,handleTypeaheadSearch:f,resetTypeahead:s}=rt();function k(){o.value||(e.onOpenChange(!0),s())}function b(v){k(),e.triggerPointerDownPosRef.value={x:Math.round(v.pageX),y:Math.round(v.pageY)}}return(v,d)=>(r(),z(t(Kt),{"as-child":"",reference:v.reference},{default:p(()=>{var $,M,D,U;return[_(t(J),{ref:t(u),role:"combobox",type:v.as==="button"?"button":void 0,"aria-controls":t(e).contentId,"aria-expanded":t(e).open.value||!1,"aria-required":($=t(e).required)==null?void 0:$.value,"aria-autocomplete":"none",disabled:o.value,dir:(M=t(e))==null?void 0:M.dir.value,"data-state":(D=t(e))!=null&&D.open.value?"open":"closed","data-disabled":o.value?"":void 0,"data-placeholder":(U=t(e).modelValue)!=null&&U.value?void 0:"","as-child":v.asChild,as:v.as,onClick:d[0]||(d[0]=y=>{var l;(l=y==null?void 0:y.currentTarget)==null||l.focus()}),onPointerdown:d[1]||(d[1]=y=>{if(y.pointerType==="touch")return y.preventDefault();const l=y.target;l.hasPointerCapture(y.pointerId)&&l.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&(b(y),y.preventDefault())}),onPointerup:d[2]||(d[2]=be(y=>{y.pointerType==="touch"&&b(y)},["prevent"])),onKeydown:d[3]||(d[3]=y=>{const l=t(h)!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&l&&y.key===" "||(t(f)(y.key,t(m)()),t(oa).includes(y.key)&&(k(),y.preventDefault()))})},{default:p(()=>[B(v.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]}),_:3},8,["reference"]))}}),ua=L({__name:"SelectPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(n){const a=n;return(e,u)=>(r(),z(t(bt),Te(Me(a)),{default:p(()=>[B(e.$slots,"default")]),_:3},16))}}),[da,ca]=xe("SelectItemAlignedPosition"),pa=L({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean},as:{}},emits:["placed"],setup(n,{emit:a}){const e=n,u=a,{getItems:i}=_e(),o=le(),m=Ce(),h=P(!1),f=P(!0),s=P(),{forwardRef:k,currentElement:b}=we(),{viewport:v,selectedItem:d,selectedItemText:$,focusSelectedItem:M}=m;function D(){if(o.triggerElement.value&&o.valueElement.value&&s.value&&b.value&&(v!=null&&v.value)&&(d!=null&&d.value)&&($!=null&&$.value)){const l=o.triggerElement.value.getBoundingClientRect(),c=b.value.getBoundingClientRect(),C=o.valueElement.value.getBoundingClientRect(),g=$.value.getBoundingClientRect();if(o.dir.value!=="rtl"){const G=g.left-c.left,I=C.left-G,j=l.left-I,Q=l.width+j,re=Math.max(Q,c.width),ue=window.innerWidth-X,de=Xe(I,X,Math.max(X,ue-re));s.value.style.minWidth=`${Q}px`,s.value.style.left=`${de}px`}else{const G=c.right-g.right,I=window.innerWidth-C.right-G,j=window.innerWidth-l.right-I,Q=l.width+j,re=Math.max(Q,c.width),ue=window.innerWidth-X,de=Xe(I,X,Math.max(X,ue-re));s.value.style.minWidth=`${Q}px`,s.value.style.right=`${de}px`}const S=i().map(G=>G.ref),T=window.innerHeight-X*2,E=v.value.scrollHeight,A=window.getComputedStyle(b.value),x=Number.parseInt(A.borderTopWidth,10),oe=Number.parseInt(A.paddingTop,10),Se=Number.parseInt(A.borderBottomWidth,10),Ie=Number.parseInt(A.paddingBottom,10),ke=x+oe+E+Ie+Se,Ae=Math.min(d.value.offsetHeight*5,ke),w=window.getComputedStyle(v.value),H=Number.parseInt(w.paddingTop,10),W=Number.parseInt(w.paddingBottom,10),ie=l.top+l.height/2-X,ze=T-ie,ee=d.value.offsetHeight/2,se=d.value.offsetTop+ee,N=x+oe+se,te=ke-N;if(N<=ie){const G=d.value===S[S.length-1];s.value.style.bottom="0px";const I=b.value.clientHeight-v.value.offsetTop-v.value.offsetHeight,j=Math.max(ze,ee+(G?W:0)+I+Se),Q=N+j;s.value.style.height=`${Q}px`}else{const G=d.value===S[0];s.value.style.top="0px";const j=Math.max(ie,x+v.value.offsetTop+(G?H:0)+ee)+te;s.value.style.height=`${j}px`,v.value.scrollTop=N-ie+v.value.offsetTop}s.value.style.margin=`${X}px 0`,s.value.style.minHeight=`${Ae}px`,s.value.style.maxHeight=`${T}px`,u("placed"),requestAnimationFrame(()=>h.value=!0)}}const U=P("");me(async()=>{await he(),D(),b.value&&(U.value=window.getComputedStyle(b.value).zIndex)});function y(l){l&&f.value===!0&&(D(),M==null||M(),f.value=!1)}return xt(o.triggerElement,()=>{D()}),ca({contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:y}),(l,c)=>(r(),O("div",{ref_key:"contentWrapperElement",ref:s,style:_t({display:"flex",flexDirection:"column",position:"fixed",zIndex:U.value})},[_(t(J),V({ref:t(k),style:{boxSizing:"border-box",maxHeight:"100%"}},{...l.$attrs,...e}),{default:p(()=>[B(l.$slots,"default")]),_:3},16)],4))}}),fa=L({__name:"SelectPopperPosition",props:{side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{default:X},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},setup(n){const e=at(n);return(u,i)=>(r(),z(t(Ht),V(t(e),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:p(()=>[B(u.$slots,"default")]),_:3},16))}}),dt={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[Ce,ct]=xe("SelectContent"),ma=L({__name:"SelectContentImpl",props:{position:{default:"item-aligned"},bodyLock:{type:Boolean,default:!0},side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(n,{emit:a}){const e=n,u=a,i=le();jt(),qt(e.bodyLock);const{CollectionSlot:o,getItems:m}=_e(),h=P();Yt(h);const{search:f,handleTypeaheadSearch:s}=rt(),k=P(),b=P(),v=P(),d=P(!1),$=P(!1),M=P(!1);function D(){b.value&&h.value&&qe([b.value,h.value])}tt(d,()=>{D()});const{onOpenChange:U,triggerPointerDownPosRef:y}=i;wt(g=>{if(!h.value)return;let S={x:0,y:0};const T=A=>{var x,oe;S={x:Math.abs(Math.round(A.pageX)-(((x=y.value)==null?void 0:x.x)??0)),y:Math.abs(Math.round(A.pageY)-(((oe=y.value)==null?void 0:oe.y)??0))}},E=A=>{var x;A.pointerType!=="touch"&&(S.x<=10&&S.y<=10?A.preventDefault():(x=h.value)!=null&&x.contains(A.target)||U(!1),document.removeEventListener("pointermove",T),y.value=null)};y.value!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",E,{capture:!0,once:!0})),g(()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",E,{capture:!0})})});function l(g){const S=g.ctrlKey||g.altKey||g.metaKey;if(g.key==="Tab"&&g.preventDefault(),!S&&g.key.length===1&&s(g.key,m()),["ArrowUp","ArrowDown","Home","End"].includes(g.key)){let E=[...m().map(A=>A.ref)];if(["ArrowUp","End"].includes(g.key)&&(E=E.slice().reverse()),["ArrowUp","ArrowDown"].includes(g.key)){const A=g.target,x=E.indexOf(A);E=E.slice(x+1)}setTimeout(()=>qe(E)),g.preventDefault()}}const c=K(()=>e.position==="popper"?e:{}),C=at(c.value);return ct({content:h,viewport:k,onViewportChange:g=>{k.value=g},itemRefCallback:(g,S,T)=>{const E=!$.value&&!T,A=De(i.modelValue.value,S,i.by);if(i.multiple.value){if(M.value)return;(A||E)&&(b.value=g,A&&(M.value=!0))}else(A||E)&&(b.value=g);E&&($.value=!0)},selectedItem:b,selectedItemText:v,onItemLeave:()=>{var g;(g=h.value)==null||g.focus()},itemTextRefCallback:(g,S,T)=>{const E=!$.value&&!T;(De(i.modelValue.value,S,i.by)||E)&&(v.value=g)},focusSelectedItem:D,position:e.position,isPositioned:d,searchRef:f}),(g,S)=>(r(),z(t(o),null,{default:p(()=>[_(t(Xt),{"as-child":"",onMountAutoFocus:S[6]||(S[6]=be(()=>{},["prevent"])),onUnmountAutoFocus:S[7]||(S[7]=T=>{var E;u("closeAutoFocus",T),!T.defaultPrevented&&((E=t(i).triggerElement.value)==null||E.focus({preventScroll:!0}),T.preventDefault())})},{default:p(()=>[_(t(Ct),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:S[2]||(S[2]=be(()=>{},["prevent"])),onDismiss:S[3]||(S[3]=T=>t(i).onOpenChange(!1)),onEscapeKeyDown:S[4]||(S[4]=T=>u("escapeKeyDown",T)),onPointerDownOutside:S[5]||(S[5]=T=>u("pointerDownOutside",T))},{default:p(()=>[(r(),z(St(g.position==="popper"?fa:pa),V({...g.$attrs,...t(C)},{id:t(i).contentId,ref:T=>{h.value=t(et)(T)},role:"listbox","data-state":t(i).open.value?"open":"closed",dir:t(i).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:S[0]||(S[0]=be(()=>{},["prevent"])),onPlaced:S[1]||(S[1]=T=>d.value=!0),onKeydown:l}),{default:p(()=>[B(g.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3})]),_:3}))}}),ga=L({inheritAttrs:!1,__name:"SelectProvider",props:{context:{}},setup(n){return ut(n.context),ct(dt),(e,u)=>B(e.$slots,"default")}}),va={key:1},ha=L({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(n,{emit:a}){const e=n,i=nt(e,a),o=le(),m=P();me(()=>{m.value=new DocumentFragment});const h=P(),f=K(()=>e.forceMount||o.open.value);return(s,k)=>{var b;return f.value?(r(),z(t(It),{key:0,ref_key:"presenceRef",ref:h,present:!0},{default:p(()=>[_(ma,Te(Me({...t(i),...s.$attrs})),{default:p(()=>[B(s.$slots,"default")]),_:3},16)]),_:3},512)):!((b=h.value)!=null&&b.present)&&m.value?(r(),O("div",va,[(r(),z(kt,{to:m.value},[_(ga,{context:t(o)},{default:p(()=>[B(s.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):q("",!0)}}}),ya=L({__name:"SelectArrow",props:{width:{default:10},height:{default:5},rounded:{type:Boolean},asChild:{type:Boolean},as:{default:"svg"}},setup(n){const a=n,e=le(),u=Ce(dt);return(i,o)=>t(e).open.value&&t(u).position==="popper"?(r(),z(t(Wt),Te(V({key:0},a)),{default:p(()=>[B(i.$slots,"default")]),_:3},16)):q("",!0)}}),ba=L({__name:"SelectSeparator",props:{asChild:{type:Boolean},as:{}},setup(n){const a=n;return(e,u)=>(r(),z(t(J),V({"aria-hidden":"true"},a),{default:p(()=>[B(e.$slots,"default")]),_:3},16))}}),[pt,xa]=xe("SelectItem"),_a=L({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(n,{emit:a}){const e=n,u=a,{disabled:i}=Be(e),o=le(),m=Ce(),{forwardRef:h,currentElement:f}=we(),{CollectionItem:s}=_e(),k=K(()=>{var c;return De((c=o.modelValue)==null?void 0:c.value,e.value,o.by)}),b=P(!1),v=P(e.textValue??""),d=Ve(void 0,"reka-select-item-text"),$="select.select";async function M(c){if(c.defaultPrevented)return;const C={originalEvent:c,value:e.value};zt($,D,C)}async function D(c){await he(),u("select",c),!c.defaultPrevented&&(i.value||(o.onValueChange(e.value),o.multiple.value||o.onOpenChange(!1)))}async function U(c){var C;await he(),!c.defaultPrevented&&(i.value?(C=m.onItemLeave)==null||C.call(m):c.currentTarget.focus({preventScroll:!0}))}async function y(c){var C;await he(),!c.defaultPrevented&&c.currentTarget===$t()&&((C=m.onItemLeave)==null||C.call(m))}async function l(c){var g;await he(),!(c.defaultPrevented||((g=m.searchRef)==null?void 0:g.value)!==""&&c.key===" ")&&(ia.includes(c.key)&&M(c),c.key===" "&&c.preventDefault())}if(e.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return me(()=>{f.value&&m.itemRefCallback(f.value,e.value,e.disabled)}),xa({value:e.value,disabled:i,textId:d,isSelected:k,onItemTextChange:c=>{v.value=((v.value||(c==null?void 0:c.textContent))??"").trim()}}),(c,C)=>(r(),z(t(s),{value:{textValue:v.value}},{default:p(()=>[_(t(J),{ref:t(h),role:"option","aria-labelledby":t(d),"data-highlighted":b.value?"":void 0,"aria-selected":k.value,"data-state":k.value?"checked":"unchecked","aria-disabled":t(i)||void 0,"data-disabled":t(i)?"":void 0,tabindex:t(i)?void 0:-1,as:c.as,"as-child":c.asChild,onFocus:C[0]||(C[0]=g=>b.value=!0),onBlur:C[1]||(C[1]=g=>b.value=!1),onPointerup:M,onPointerdown:C[2]||(C[2]=g=>{g.currentTarget.focus({preventScroll:!0})}),onTouchend:C[3]||(C[3]=be(()=>{},["prevent","stop"])),onPointermove:U,onPointerleave:y,onKeydown:l},{default:p(()=>[B(c.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),wa=L({__name:"SelectItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(n){const a=n,e=pt();return(u,i)=>t(e).isSelected.value?(r(),z(t(J),V({key:0,"aria-hidden":"true"},a),{default:p(()=>[B(u.$slots,"default")]),_:3},16)):q("",!0)}}),[Ca,Sa]=xe("SelectGroup"),Ia=L({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{}},setup(n){const a=n,e=Ve(void 0,"reka-select-group");return Sa({id:e}),(u,i)=>(r(),z(t(J),V({role:"group"},a,{"aria-labelledby":t(e)}),{default:p(()=>[B(u.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),ka=L({__name:"SelectLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(n){const a=n,e=Ca({id:""});return(u,i)=>(r(),z(t(J),V(a,{id:t(e).id}),{default:p(()=>[B(u.$slots,"default")]),_:3},16,["id"]))}}),za=L({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean},as:{default:"span"}},setup(n){const a=n,e=le(),u=Ce(),i=pt(),{forwardRef:o,currentElement:m}=we(),h=K(()=>{var f,s;return{value:i.value,disabled:i.disabled.value,textContent:((f=m.value)==null?void 0:f.textContent)??((s=i.value)==null?void 0:s.toString())??""}});return me(()=>{m.value&&(i.onItemTextChange(m.value),u.itemTextRefCallback(m.value,i.value,i.disabled.value),e.onOptionAdd(h.value))}),Bt(()=>{e.onOptionRemove(h.value)}),(f,s)=>(r(),z(t(J),V({id:t(i).textId,ref:t(o)},{...a,...f.$attrs}),{default:p(()=>[B(f.$slots,"default")]),_:3},16,["id"]))}}),$a=L({__name:"SelectViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(n){const a=n,{nonce:e}=Be(a),u=aa(e),i=Ce(),o=i.position==="item-aligned"?da():void 0,{forwardRef:m,currentElement:h}=we();me(()=>{i==null||i.onViewportChange(h.value)});const f=P(0);function s(k){const b=k.currentTarget,{shouldExpandOnScrollRef:v,contentWrapper:d}=o??{};if(v!=null&&v.value&&(d!=null&&d.value)){const $=Math.abs(f.value-b.scrollTop);if($>0){const M=window.innerHeight-X*2,D=Number.parseFloat(d.value.style.minHeight),U=Number.parseFloat(d.value.style.height),y=Math.max(D,U);if(y<M){const l=y+$,c=Math.min(M,l),C=l-c;d.value.style.height=`${c}px`,d.value.style.bottom==="0px"&&(b.scrollTop=C>0?C:0,d.value.style.justifyContent="flex-end")}}}f.value=b.scrollTop}return(k,b)=>(r(),O(ne,null,[_(t(J),V({ref:t(m),"data-reka-select-viewport":"",role:"presentation"},{...k.$attrs,...a},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:s}),{default:p(()=>[B(k.$slots,"default")]),_:3},16),_(t(J),{as:"style",nonce:t(u)},{default:p(()=>b[0]||(b[0]=[fe(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1},8,["nonce"])],64))}}),Ba={getAll:async()=>{const n=ot();return await pe(Z.District,{method:"GET",server:!1,lazy:!0,key:Z.District,getCachedData:a=>n.payload.data[a]||n.static.data[a]})},create:async n=>await pe(Z.District,{method:"POST",server:!1,lazy:!0,body:n}),edit:async n=>await pe(Z.District,{method:"PUT",server:!1,lazy:!0,body:n})},Ne={getAll:async()=>{const n=ot();return await pe(Z.SerialNumberGetAll,{method:"GET",server:!1,key:Z.SerialNumberGetAll,getCachedData:a=>n.payload.data[a]||n.static.data[a]})},create:async n=>{const{execute:a}=await pe(Z.SerialNumberCreate,{method:"POST",server:!1,lazy:!0,immediate:!1,watch:!1,body:n});return{execute:a}},delete:async n=>await pe(Z.SerialNumberDelete,{method:"DELETE",server:!1,lazy:!0,immediate:!1,watch:!1,body:n})},Ta={slots:{root:"relative inline-flex items-center justify-center shrink-0",base:"rounded-full ring ring-(--ui-bg) flex items-center justify-center text-(--ui-bg) font-medium whitespace-nowrap"},variants:{color:{primary:"bg-(--ui-primary)",secondary:"bg-(--ui-secondary)",success:"bg-(--ui-success)",info:"bg-(--ui-info)",warning:"bg-(--ui-warning)",error:"bg-(--ui-error)",neutral:"bg-(--ui-text-muted)"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px]","2xs":"h-[5px] min-w-[5px] text-[5px]",xs:"h-[6px] min-w-[6px] text-[6px]",sm:"h-[7px] min-w-[7px] text-[7px]",md:"h-[8px] min-w-[8px] text-[8px]",lg:"h-[9px] min-w-[9px] text-[9px]",xl:"h-[10px] min-w-[10px] text-[10px]","2xl":"h-[11px] min-w-[11px] text-[11px]","3xl":"h-[12px] min-w-[12px] text-[12px]"},position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},inset:{false:""},standalone:{false:"absolute"}},compoundVariants:[{position:"top-right",inset:!1,class:"-translate-y-1/2 translate-x-1/2 transform"},{position:"bottom-right",inset:!1,class:"translate-y-1/2 translate-x-1/2 transform"},{position:"top-left",inset:!1,class:"-translate-y-1/2 -translate-x-1/2 transform"},{position:"bottom-left",inset:!1,class:"translate-y-1/2 -translate-x-1/2 transform"}],defaultVariants:{size:"md",color:"primary",position:"top-right"}},Aa=it;var Ze;const Pa=$e({extend:$e(Ta),...((Ze=Aa.ui)==null?void 0:Ze.chip)||{}}),Ea=L({inheritAttrs:!1,__name:"Chip",props:Tt({as:{},text:{},color:{},size:{},position:{},inset:{type:Boolean,default:!1},standalone:{type:Boolean,default:!1},class:{},ui:{}},{show:{type:Boolean,default:!0},showModifiers:{}}),emits:["update:show"],setup(n){const a=n,e=At(n,"show"),{size:u}=Pt(a),i=K(()=>Pa({color:a.color,size:u.value,position:a.position,inset:a.inset,standalone:a.standalone}));return(o,m)=>{var h;return r(),z(t(J),{as:o.as,class:R(i.value.root({class:[a.class,(h=a.ui)==null?void 0:h.root]}))},{default:p(()=>{var f;return[_(t(Et),Te(Me(o.$attrs)),{default:p(()=>[B(o.$slots,"default")]),_:3},16),e.value?(r(),O("span",{key:0,class:R(i.value.base({class:(f=a.ui)==null?void 0:f.base}))},[B(o.$slots,"content",{},()=>[fe(Y(o.text),1)])],2)):q("",!0)]}),_:3},8,["as","class"])}}}),La=Object.assign(Ea,{__name:"UChip"}),Da={slots:{base:["relative group rounded-[calc(var(--ui-radius)*1.5)] inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-(--ui-text-dimmed)",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-(--ui-text-dimmed)",value:"truncate pointer-events-none",placeholder:"truncate text-(--ui-text-dimmed)",arrow:"fill-(--ui-border)",content:"max-h-60 w-(--reka-popper-anchor-width) bg-(--ui-bg) shadow-lg rounded-[calc(var(--ui-radius)*1.5)] ring ring-(--ui-border) overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] pointer-events-auto",viewport:"divide-y divide-(--ui-border) scroll-py-1",group:"p-1 isolate",empty:"py-2 text-center text-sm text-(--ui-text-muted)",label:"font-semibold text-(--ui-text-highlighted)",separator:"-mx-1 my-1 h-px bg-(--ui-border)",item:["group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-[calc(var(--ui-radius)*1.5)] data-disabled:cursor-not-allowed data-disabled:opacity-75 text-(--ui-text) data-highlighted:text-(--ui-text-highlighted) data-highlighted:before:bg-(--ui-bg-elevated)/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-(--ui-text-dimmed) group-data-highlighted:text-(--ui-text)","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate"},variants:{buttonGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6"}},variant:{outline:"text-(--ui-text-highlighted) bg-(--ui-bg) ring ring-inset ring-(--ui-border-accented)",soft:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated)/50 hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-(--ui-bg-elevated)/50",subtle:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated) ring ring-inset ring-(--ui-border-accented)",ghost:"text-(--ui-text-highlighted) bg-transparent hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-transparent dark:disabled:bg-transparent",none:"text-(--ui-text-highlighted) bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-(--ui-text-muted) file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-primary)"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-secondary)"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-success)"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-info)"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-warning)"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-error)"},{color:"primary",highlight:!0,class:"ring ring-inset ring-(--ui-primary)"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-(--ui-secondary)"},{color:"success",highlight:!0,class:"ring ring-inset ring-(--ui-success)"},{color:"info",highlight:!0,class:"ring ring-inset ring-(--ui-info)"},{color:"warning",highlight:!0,class:"ring ring-inset ring-(--ui-warning)"},{color:"error",highlight:!0,class:"ring ring-inset ring-(--ui-error)"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-border-inverted)"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-(--ui-border-inverted)"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Oa=it;var Je;const Ma=$e({extend:$e(Da),...((Je=Oa.ui)==null?void 0:Je.select)||{}}),Va=L({inheritAttrs:!1,__name:"Select",props:{id:{},placeholder:{},color:{},variant:{},size:{},trailingIcon:{},selectedIcon:{},content:{},arrow:{type:[Boolean,Object]},portal:{type:Boolean,default:!0},valueKey:{default:"value"},labelKey:{default:"label"},items:{},defaultValue:{},modelValue:{},multiple:{type:Boolean},highlight:{type:Boolean},class:{},ui:{},open:{type:Boolean},defaultOpen:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean},icon:{},avatar:{},leading:{type:Boolean},leadingIcon:{},trailing:{type:Boolean},loading:{type:Boolean},loadingIcon:{}},emits:["update:open","change","blur","focus","update:modelValue"],setup(n,{emit:a}){const e=n,u=a,i=Lt(),o=Dt(),m=nt(Ot(e,"open","defaultOpen","disabled","autocomplete","required","multiple"),u),h=Pe(()=>We(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),f=Pe(()=>e.arrow),{emitFormChange:s,emitFormInput:k,emitFormBlur:b,emitFormFocus:v,size:d,color:$,id:M,name:D,highlight:U,disabled:y,ariaAttrs:l}=Mt(e),{orientation:c,size:C}=Vt(e),{isLeading:g,isTrailing:S,leadingIconName:T,trailingIconName:E}=Nt(Pe(()=>We(e,{trailingIcon:o.ui.icons.chevronDown}))),A=K(()=>C.value||d.value),x=K(()=>Ma({color:$.value,variant:e.variant,size:A==null?void 0:A.value,loading:e.loading,highlight:U.value,leading:g.value||!!e.avatar||!!i.leading,trailing:S.value||!!i.trailing,buttonGroup:c.value})),oe=K(()=>{var w;return(w=e.items)!=null&&w.length?Array.isArray(e.items[0])?e.items:[e.items]:[]}),Se=K(()=>oe.value.flatMap(w=>w));function Ie(w){if(e.multiple&&Array.isArray(w))return w.map(W=>Ie(W)).filter(Boolean).join(", ");const H=Se.value.find(W=>Rt(typeof W=="object"?ve(W,e.valueKey):W,w));return H&&(typeof H=="object"?ve(H,e.labelKey):H)}function ke(w){const H=new Event("change",{target:{value:w}});u("change",H),s(),k()}function Ae(w){if(w){const H=new FocusEvent("focus");u("focus",H),v()}else{const H=new FocusEvent("blur");u("blur",H),b()}}return(w,H)=>(r(),z(t(la),V({name:t(D)},t(m),{autocomplete:w.autocomplete,disabled:t(y),"default-value":w.defaultValue,"model-value":w.modelValue,"onUpdate:modelValue":ke,"onUpdate:open":Ae}),{default:p(({modelValue:W,open:ie})=>{var ze;return[_(t(ra),V({id:t(M),class:x.value.base({class:[e.class,(ze=e.ui)==null?void 0:ze.base]})},{...w.$attrs,...t(l)}),{default:p(()=>{var ee,se;return[t(g)||w.avatar||i.leading?(r(),O("span",{key:0,class:R(x.value.leading({class:(ee=e.ui)==null?void 0:ee.leading}))},[B(w.$slots,"leading",{modelValue:W,open:ie,ui:x.value},()=>{var N,te,ae;return[t(g)&&t(T)?(r(),z(ce,{key:0,name:t(T),class:R(x.value.leadingIcon({class:(N=e.ui)==null?void 0:N.leadingIcon}))},null,8,["name","class"])):w.avatar?(r(),z(Ge,V({key:1,size:((te=e.ui)==null?void 0:te.itemLeadingAvatarSize)||x.value.itemLeadingAvatarSize()},w.avatar,{class:x.value.itemLeadingAvatar({class:(ae=e.ui)==null?void 0:ae.itemLeadingAvatar})}),null,16,["size","class"])):q("",!0)]})],2)):q("",!0),B(w.$slots,"default",{modelValue:W,open:ie},()=>[(r(!0),O(ne,null,ye([Ie(W)],N=>{var te,ae;return r(),O(ne,{key:N},[N?(r(),O("span",{key:0,class:R(x.value.value({class:(te=e.ui)==null?void 0:te.value}))},Y(N),3)):(r(),O("span",{key:1,class:R(x.value.placeholder({class:(ae=e.ui)==null?void 0:ae.placeholder}))},Y(w.placeholder??" "),3))],64)}),128))]),t(S)||i.trailing?(r(),O("span",{key:1,class:R(x.value.trailing({class:(se=e.ui)==null?void 0:se.trailing}))},[B(w.$slots,"trailing",{modelValue:W,open:ie,ui:x.value},()=>{var N;return[t(E)?(r(),z(ce,{key:0,name:t(E),class:R(x.value.trailingIcon({class:(N=e.ui)==null?void 0:N.trailingIcon}))},null,8,["name","class"])):q("",!0)]})],2)):q("",!0)]}),_:2},1040,["id","class"]),_(t(ua),{disabled:!w.portal},{default:p(()=>{var ee;return[_(t(ha),V({class:x.value.content({class:(ee=e.ui)==null?void 0:ee.content})},h.value),{default:p(()=>{var se,N;return[_(t($a),{class:R(x.value.viewport({class:(se=e.ui)==null?void 0:se.viewport}))},{default:p(()=>[(r(!0),O(ne,null,ye(oe.value,(te,ae)=>{var G;return r(),z(t(Ia),{key:`group-${ae}`,class:R(x.value.group({class:(G=e.ui)==null?void 0:G.group}))},{default:p(()=>[(r(!0),O(ne,null,ye(te,(I,j)=>{var Q,re,ue;return r(),O(ne,{key:`group-${ae}-${j}`},[(I==null?void 0:I.type)==="label"?(r(),z(t(ka),{key:0,class:R(x.value.label({class:(Q=e.ui)==null?void 0:Q.label}))},{default:p(()=>[fe(Y(t(ve)(I,e.labelKey)),1)]),_:2},1032,["class"])):(I==null?void 0:I.type)==="separator"?(r(),z(t(ba),{key:1,class:R(x.value.separator({class:(re=e.ui)==null?void 0:re.separator}))},null,8,["class"])):(r(),z(t(_a),{key:2,class:R(x.value.item({class:(ue=e.ui)==null?void 0:ue.item})),disabled:I.disabled,value:typeof I=="object"?t(ve)(I,e.valueKey):I},{default:p(()=>[B(w.$slots,"item",{item:I,index:j},()=>{var de,Re;return[B(w.$slots,"item-leading",{item:I,index:j},()=>{var ge,Ue,Fe,Ke,He;return[I.icon?(r(),z(ce,{key:0,name:I.icon,class:R(x.value.itemLeadingIcon({class:(ge=e.ui)==null?void 0:ge.itemLeadingIcon}))},null,8,["name","class"])):I.avatar?(r(),z(Ge,V({key:1,size:((Ue=e.ui)==null?void 0:Ue.itemLeadingAvatarSize)||x.value.itemLeadingAvatarSize(),ref_for:!0},I.avatar,{class:x.value.itemLeadingAvatar({class:(Fe=e.ui)==null?void 0:Fe.itemLeadingAvatar})}),null,16,["size","class"])):I.chip?(r(),z(La,V({key:2,size:((Ke=e.ui)==null?void 0:Ke.itemLeadingChipSize)||x.value.itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},I.chip,{class:x.value.itemLeadingChip({class:(He=e.ui)==null?void 0:He.itemLeadingChip})}),null,16,["size","class"])):q("",!0)]}),_(t(za),{class:R(x.value.itemLabel({class:(de=e.ui)==null?void 0:de.itemLabel}))},{default:p(()=>[B(w.$slots,"item-label",{item:I,index:j},()=>[fe(Y(typeof I=="object"?t(ve)(I,e.labelKey):I),1)])]),_:2},1032,["class"]),F("span",{class:R(x.value.itemTrailing({class:(Re=e.ui)==null?void 0:Re.itemTrailing}))},[B(w.$slots,"item-trailing",{item:I,index:j}),_(t(wa),{"as-child":""},{default:p(()=>{var ge;return[_(ce,{name:w.selectedIcon||t(o).ui.icons.check,class:R(x.value.itemTrailingIcon({class:(ge=e.ui)==null?void 0:ge.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1032,["class","disabled","value"]))],64)}),128))]),_:2},1032,["class"])}),128))]),_:3},8,["class"]),w.arrow?(r(),z(t(ya),V({key:0},f.value,{class:x.value.arrow({class:(N=e.ui)==null?void 0:N.arrow})}),null,16,["class"])):q("",!0)]}),_:3},16,["class"])]}),_:3},8,["disabled"])]}),_:3},16,["name","autocomplete","disabled","default-value","model-value"]))}}),Na=Object.assign(Va,{__name:"USelect"}),Ra={class:"flex gap-4"},Ua=L({__name:"AddSerialNumberComponent",setup(n){const a=P({data:{role:Le.user,districtId:"",notes:""},feature:{modal:{open:!1,status:!1}}}),{data:e}=Ut(Z.District),u=async()=>{const{feature:i,data:o}=a.value,{execute:m}=await Ne.create({role:o.role,districtId:o.districtId,notes:o.notes});i.modal.status=!0,await m(),i.modal.status=!1,await lt(Z.SerialNumberGetAll),i.modal.open=!1,a.value.data.role=Le.user,a.value.data.districtId="",a.value.data.notes=""};return(i,o)=>{const m=ce,h=st,f=Na,s=Jt,k=Qt,b=Zt,v=Qe;return r(),O("div",null,[_(h,{onClick:o[0]||(o[0]=d=>t(a).feature.modal.open=!0)},{default:p(()=>[_(m,{name:"i-lucide-plus"}),o[6]||(o[6]=fe(" 創建序號 "))]),_:1}),_(v,{open:t(a).feature.modal.open,"onUpdate:open":o[5]||(o[5]=d=>t(a).feature.modal.open=d),title:"創建序號",ui:{footer:"justify-end"}},{body:p(()=>[_(b,{state:t(a).data,class:"space-y-4 flex flex-col gap-4"},{default:p(()=>[F("div",Ra,[_(s,{label:"角色",name:"role"},{default:p(()=>[_(f,{modelValue:t(a).data.role,"onUpdate:modelValue":o[1]||(o[1]=d=>t(a).data.role=d),items:t(ea),label:"角色",name:"role"},null,8,["modelValue","items"])]),_:1}),_(s,{label:"區域",name:"districtId"},{default:p(()=>{var d;return[_(f,{modelValue:t(a).data.districtId,"onUpdate:modelValue":o[2]||(o[2]=$=>t(a).data.districtId=$),label:"區域",name:"districtId",items:(d=t(e))==null?void 0:d.districts.map($=>({label:$.name,value:$._id}))},null,8,["modelValue","items"])]}),_:1})]),_(s,{label:"備註",name:"notes"},{default:p(()=>[_(k,{modelValue:t(a).data.notes,"onUpdate:modelValue":o[3]||(o[3]=d=>t(a).data.notes=d),label:"備註",name:"notes",ui:{root:"w-full"}},null,8,["modelValue"])]),_:1})]),_:1},8,["state"])]),footer:p(()=>[_(h,{label:"取消",color:"neutral",variant:"outline",onClick:o[4]||(o[4]=d=>t(a).feature.modal.open=!1)}),_(h,{label:"確認",variant:"outline",disabled:!t(a).data.role||!t(a).data.districtId||!t(a).data.notes,loading:t(a).feature.modal.status,onClick:u},null,8,["disabled","loading"])]),_:1},8,["open"])])}}}),Fa=L({__name:"DeleteSerialNumberComponent",props:{serialNumberId:{}},async setup(n){let a,e;const u=n,{serialNumberId:i}=Be(u),o=P({feature:{modal:{open:!1}},data:null}),{execute:m,status:h}=([a,e]=Ee(()=>Ne.delete({id:i.value})),a=await a,e(),a),f=async()=>{await m(),await lt(Z.SerialNumberGetAll),o.value.feature.modal.open=!1};return(s,k)=>{const b=ce,v=st,d=Qe;return r(),O(ne,null,[F("div",null,[_(b,{name:"i-lucide-trash",class:"size-5",onClick:k[0]||(k[0]=$=>t(o).feature.modal.open=!0)})]),_(d,{open:t(o).feature.modal.open,"onUpdate:open":k[2]||(k[2]=$=>t(o).feature.modal.open=$),title:"刪除序號",ui:{footer:"justify-end"}},{body:p(()=>[F("p",null,Y(`是否刪除序號 ${t(i)}`),1)]),footer:p(()=>[_(v,{label:"取消",color:"neutral",variant:"outline",onClick:k[1]||(k[1]=$=>t(o).feature.modal.open=!1)}),_(v,{label:"確認",variant:"outline",loading:t(h)==="pending",onClick:f},null,8,["loading"])]),_:1},8,["open"])],64)}}}),Ka={class:"flex items-center gap-2 justify-between mb-4"},Ha={class:"flex items-center gap-2 justify-between"},ja={class:"flex items-center gap-2"},an=L({__name:"serialNumber",async setup(n){let a,e;const{data:u}=([a,e]=Ee(()=>Ne.getAll()),a=await a,e(),a);return[a,e]=Ee(()=>Ba.getAll()),await a,e(),(i,o)=>{var f;const m=ft,h=mt;return r(),O("div",null,[F("div",Ka,[o[0]||(o[0]=F("p",{class:"text-md font-bold"}," 序號列表 ",-1)),_(t(Ua))]),(r(!0),O(ne,null,ye((f=t(u))==null?void 0:f.userSerialNumber,s=>(r(),z(h,{key:s._id,class:"mb-4"},{header:p(()=>[F("div",Ha,[F("div",ja,[_(m,{color:s.isUsed?"success":"warning",variant:"outline"},{default:p(()=>[fe(Y(s.isUsed?"已使用":"未使用"),1)]),_:2},1032,["color"]),F("p",null,Y(s.notes||"無備註"),1)]),_(t(Fa),{"serial-number-id":s._id},null,8,["serial-number-id"])])]),default:p(()=>[F("p",null,"序號："+Y(s.serialNumber),1),F("p",null,"角色："+Y(s.role),1),F("p",null,"區："+Y(s.districtId.name),1),F("p",null,"創建時間："+Y(s.createdAt),1)]),_:2},1024))),128))])}}});export{an as default};
