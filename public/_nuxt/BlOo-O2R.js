import{U as A,e as H,g as q,m as c,c as f,b as j,w as n,i,j as I,o as r,d as a,a as t,F as m,k as v,l as x,t as d}from"./DNIQjGSB.js";import{U as J}from"./BdPsgYod.js";import{_ as K}from"./BnaOpX_G.js";import{u as F}from"./zC88iUzS.js";import"./D9Yp0Bal.js";import"./JPW8_Bhc.js";import"./Dd4tDGgp.js";const G={getAll:async()=>await F(A.MeetingCenter,{method:"GET",server:!1}),create:async()=>await F(A.MeetingCenter,{method:"POST",server:!1,lazy:!0,immediate:!1})},Q={class:"flex flex-wrap gap-2"},W={class:"flex flex-wrap gap-2"},X={class:"flex flex-wrap gap-2"},Y={class:"flex flex-wrap gap-2"},Z={class:"flex flex-wrap gap-2"},h={class:"flex flex-wrap gap-2"},ee={class:"flex flex-wrap gap-2"},te={class:"flex flex-wrap gap-2"},le={class:"flex flex-wrap gap-2"},re={class:"flex flex-wrap gap-2"},se={class:"flex flex-wrap gap-2"},ne={class:"flex flex-wrap gap-2"},ae={class:"flex flex-wrap gap-2"},ie={class:"flex flex-wrap gap-2"},ge=H({__name:"meetingCenter",async setup(oe){let _,z;const{data:S,refresh:V}=([_,z]=q(()=>G.getAll()),_=await _,z(),_),{execute:D,status:E}=([_,z]=q(()=>G.create()),_=await _,z(),_),y=c(()=>{var o;return(o=S.value)==null?void 0:o.data}),C=c(()=>{var o;return(o=y.value)==null?void 0:o.filter(e=>e.districtName==="一區")}),R=c(()=>{var o;return(o=y.value)==null?void 0:o.filter(e=>e.districtName==="二區")}),U=c(()=>{var o;return(o=y.value)==null?void 0:o.filter(e=>e.districtName==="三區")}),b=c(()=>{var o;return(o=y.value)==null?void 0:o.filter(e=>e.districtName==="四區")}),O=[{label:"報名名單",slot:"join"},{label:"搭乘遊覽車",slot:"departure"},{label:"自行前往",slot:"selfGo"}],L=async()=>{await D(),await V()};return(o,e)=>{const P=I,p=J,$=K;return r(),f("div",null,[j(P,{size:"sm",variant:"soft",loading:i(E)==="pending",onClick:L},{default:n(()=>e[0]||(e[0]=[a(" 更新數據 ")])),_:1},8,["loading"]),j($,{items:O,variant:"link",class:"gap-4 w-full",ui:{trigger:"flex-1"}},{join:n(()=>{var w;return[t("div",null,"總報名："+d((w=i(y))==null?void 0:w.length)+"位",1),e[1]||(e[1]=t("p",{class:"text-sm text-red-600"},[a(" 請於5/27日前"),t("br"),a("協助調查是否搭乘遊覽車～謝謝 ")],-1)),e[2]||(e[2]=t("p",null,"一區",-1)),t("div",Q,[(r(!0),f(m,null,v(i(C),(g,s)=>(r(),x(p,{key:s,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(g.name),1)]),_:2},1024))),128))]),e[3]||(e[3]=t("p",null,"二區",-1)),t("div",W,[(r(!0),f(m,null,v(i(R),(g,s)=>(r(),x(p,{key:s,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(g.name),1)]),_:2},1024))),128))]),e[4]||(e[4]=t("p",null,"三區",-1)),t("div",X,[(r(!0),f(m,null,v(i(U),(g,s)=>(r(),x(p,{key:s,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(g.name),1)]),_:2},1024))),128))]),e[5]||(e[5]=t("p",null,"四區",-1)),t("div",Y,[(r(!0),f(m,null,v(i(b),(g,s)=>(r(),x(p,{key:s,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(g.name),1)]),_:2},1024))),128))])]}),departure:n(()=>{var w,g,s,k,B,M,N,T;return[t("div",null,[e[6]||(e[6]=t("p",null,"搭乘去程遊覽車",-1)),e[7]||(e[7]=t("p",null,"一區:",-1)),t("div",Z,[(r(!0),f(m,null,v((w=i(C))==null?void 0:w.filter(l=>l.departure==="搭乘去程"),(l,u)=>(r(),x(p,{key:u,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(l.name),1)]),_:2},1024))),128))]),e[8]||(e[8]=t("p",null,"二區:",-1)),t("div",h,[(r(!0),f(m,null,v((g=i(R))==null?void 0:g.filter(l=>l.departure==="搭乘去程"),(l,u)=>(r(),x(p,{key:u,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(l.name),1)]),_:2},1024))),128))]),e[9]||(e[9]=t("p",null,"三區:",-1)),t("div",ee,[(r(!0),f(m,null,v((s=i(U))==null?void 0:s.filter(l=>l.departure==="搭乘去程"),(l,u)=>(r(),x(p,{key:u,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(l.name),1)]),_:2},1024))),128))]),e[10]||(e[10]=t("p",null,"四區:",-1)),t("div",te,[(r(!0),f(m,null,v((k=i(b))==null?void 0:k.filter(l=>l.departure==="搭乘去程"),(l,u)=>(r(),x(p,{key:u,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(l.name),1)]),_:2},1024))),128))])]),e[11]||(e[11]=t("p",null,"----------------",-1)),e[12]||(e[12]=t("p",null,"搭乘回程遊覽車",-1)),e[13]||(e[13]=t("p",null,"一區:",-1)),t("div",le,[(r(!0),f(m,null,v((B=i(C))==null?void 0:B.filter(l=>l.returnRide==="搭乘回程"),(l,u)=>(r(),x(p,{key:u,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(l.name),1)]),_:2},1024))),128))]),e[14]||(e[14]=t("p",null,"二區:",-1)),t("div",re,[(r(!0),f(m,null,v((M=i(R))==null?void 0:M.filter(l=>l.returnRide==="搭乘回程"),(l,u)=>(r(),x(p,{key:u,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(l.name),1)]),_:2},1024))),128))]),e[15]||(e[15]=t("p",null,"三區:",-1)),t("div",se,[(r(!0),f(m,null,v((N=i(U))==null?void 0:N.filter(l=>l.returnRide==="搭乘回程"),(l,u)=>(r(),x(p,{key:u,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(l.name),1)]),_:2},1024))),128))]),e[16]||(e[16]=t("p",null,"四區:",-1)),t("div",ne,[(r(!0),f(m,null,v((T=i(b))==null?void 0:T.filter(l=>l.returnRide==="搭乘回程"),(l,u)=>(r(),x(p,{key:u,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(l.name),1)]),_:2},1024))),128))])]}),selfGo:n(()=>{var w,g;return[e[17]||(e[17]=t("p",null,"自行前往(早):",-1)),t("div",ae,[(r(!0),f(m,null,v((w=i(y))==null?void 0:w.filter(s=>s.departure==="自行前往"),(s,k)=>(r(),x(p,{key:k,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(s.name),1)]),_:2},1024))),128))]),e[18]||(e[18]=t("p",null,"不搭回程(午):",-1)),t("div",ie,[(r(!0),f(m,null,v((g=i(y))==null?void 0:g.filter(s=>s.returnRide==="不搭回程"),(s,k)=>(r(),x(p,{key:k,color:"info",variant:"soft",size:"sm"},{default:n(()=>[a(d(s.name),1)]),_:2},1024))),128))])]}),_:1})])}}});export{ge as default};
