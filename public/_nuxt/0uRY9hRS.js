import{U as ft}from"./eJwYv-S1.js";import{a as Qe,_ as mt}from"./CXwxTuKY.js";import{n as K,p as gt,q as et,s as vt,r as E,e as O,h as tt,j as z,o as u,w as c,a as F,v as V,x as B,i as t,y as ht,z as yt,A as xe,B as Ae,C as je,D as _e,k as q,c as N,F as ne,m as ye,E as we,G as me,b as _,P as J,H as be,I as $e,J as Me,K as bt,L as he,M as xt,N as _t,O as at,Q as wt,R as Ct,S as St,T as nt,V as It,W as kt,X as zt,Y as Bt,Z as Tt,d as fe,U as Z,$ as ot,a0 as At,a1 as $t,a2 as Pt,a3 as Be,a4 as U,a5 as Et,t as Y,a6 as it,a7 as Lt,a8 as Dt,a9 as Ot,aa as Ee,ab as We,ac as Mt,ad as Nt,ae as Vt,af as ce,ag as Ge,ah as ve,ai as Rt,g as Te,l as st}from"./CTl1oznX.js";import{u as pe,a as Ut,r as lt}from"./DlCxXzD7.js";import{_ as Ft,u as rt,a as Kt,b as Ht,c as jt,d as Wt}from"./C8JW4zeg.js";import{u as Gt}from"./C0dNTGsZ.js";import{u as Ne}from"./vbm2w1uJ.js";import{u as qt,a as Yt,_ as Xt,f as qe}from"./D-rPpiA-.js";import{_ as Zt,a as Jt,b as Qt}from"./DLkIMbPX.js";import"./CBTgIFOp.js";var Le=(a=>(a.dev="dev",a.admin="admin",a.districtLeader="districtLeader",a.user="user",a))(Le||{});const ea=[{label:"開發者",value:"dev"},{label:"管理者",value:"admin"},{label:"區負責",value:"districtLeader"},{label:"使用者",value:"user"}];function Ye(a){return a==null}function ta(a){return K(()=>{var n;return gt(a)?!!((n=et(a))!=null&&n.closest("form")):!0})}function aa(a){const n=vt({nonce:E()});return K(()=>{var e;return(a==null?void 0:a.value)||((e=n.nonce)==null?void 0:e.value)})}function Xe(a,n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){return Math.min(e,Math.max(n,a))}const na=O({__name:"BubbleSelect",props:{autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},multiple:{type:Boolean},name:{},required:{type:Boolean},size:{},value:{}},setup(a){const n=a,e=E();return tt(()=>n.value,(i,s)=>{var p;const l=window.HTMLSelectElement.prototype,b=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==s&&b){const o=new Event("change",{bubbles:!0});b.call(e.value,i),(p=e.value)==null||p.dispatchEvent(o)}}),(i,s)=>(u(),z(t(ht),{"as-child":""},{default:c(()=>[F("select",V({ref_key:"selectElement",ref:e},n),[B(i.$slots,"default")],16)]),_:3}))}}),oa=[" ","Enter","ArrowUp","ArrowDown"],ia=[" ","Enter"],X=10;function De(a,n,e){return a===void 0?!1:Array.isArray(a)?a.some(i=>Oe(i,n,e)):Oe(a,n,e)}function Oe(a,n,e){return a===void 0||n===void 0?!1:typeof a=="string"?a===n:typeof e=="function"?e(a,n):typeof e=="string"?(a==null?void 0:a[e])===(n==null?void 0:n[e]):yt(a,n)}const sa={key:0,value:""},[le,ut]=xe("SelectRoot"),la=O({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{default:void 0},by:{},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(a,{emit:n}){const e=a,i=n,{required:s,disabled:l,multiple:h,dir:b}=Ae(e),p=je(e,"modelValue",i,{defaultValue:e.defaultValue??(h.value?[]:void 0),passive:e.modelValue===void 0,deep:!0}),o=je(e,"open",i,{defaultValue:e.defaultOpen,passive:e.open===void 0}),k=E(),y=E(),g=E({x:0,y:0}),v=K(()=>{var r;return h.value&&Array.isArray(p.value)?((r=p.value)==null?void 0:r.length)===0:Ye(p.value)});_e({isProvider:!0});const T=Gt(b),M=ta(k),L=E(new Set),A=K(()=>Array.from(L.value).map(r=>r.value).join(";"));function f(r){if(h.value){const d=Array.isArray(p.value)?[...p.value]:[],C=d.findIndex(m=>Oe(m,r,e.by));C===-1?d.push(r):d.splice(C,1),p.value=[...d]}else p.value=r}return ut({triggerElement:k,onTriggerChange:r=>{k.value=r},valueElement:y,onValueElementChange:r=>{y.value=r},contentId:"",modelValue:p,onValueChange:f,by:e.by,open:o,multiple:h,required:s,onOpenChange:r=>{o.value=r},dir:T,triggerPointerDownPosRef:g,disabled:l,isEmptyModelValue:v,optionsSet:L,onOptionAdd:r=>L.value.add(r),onOptionRemove:r=>L.value.delete(r)}),(r,d)=>(u(),z(t(Ft),null,{default:c(()=>[B(r.$slots,"default",{modelValue:t(p),open:t(o)}),t(M)?(u(),z(na,{key:A.value,"aria-hidden":"true",tabindex:"-1",multiple:t(h),required:t(s),name:r.name,autocomplete:r.autocomplete,disabled:t(l),value:t(p)},{default:c(()=>[t(Ye)(t(p))?(u(),N("option",sa)):q("",!0),(u(!0),N(ne,null,ye(Array.from(L.value),C=>(u(),N("option",V({key:C.value??"",ref_for:!0},C),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):q("",!0)]),_:3}))}}),ra=O({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(a){const n=a,e=le(),{forwardRef:i,currentElement:s}=we(),l=K(()=>{var g;return((g=e.disabled)==null?void 0:g.value)||n.disabled});e.contentId||(e.contentId=Ne(void 0,"reka-select-content")),me(()=>{e.onTriggerChange(s.value)});const{getItems:h}=_e(),{search:b,handleTypeaheadSearch:p,resetTypeahead:o}=rt();function k(){l.value||(e.onOpenChange(!0),o())}function y(g){k(),e.triggerPointerDownPosRef.value={x:Math.round(g.pageX),y:Math.round(g.pageY)}}return(g,v)=>(u(),z(t(Kt),{"as-child":"",reference:g.reference},{default:c(()=>{var T,M,L,A;return[_(t(J),{ref:t(i),role:"combobox",type:g.as==="button"?"button":void 0,"aria-controls":t(e).contentId,"aria-expanded":t(e).open.value||!1,"aria-required":(T=t(e).required)==null?void 0:T.value,"aria-autocomplete":"none",disabled:l.value,dir:(M=t(e))==null?void 0:M.dir.value,"data-state":(L=t(e))!=null&&L.open.value?"open":"closed","data-disabled":l.value?"":void 0,"data-placeholder":(A=t(e).modelValue)!=null&&A.value?void 0:"","as-child":g.asChild,as:g.as,onClick:v[0]||(v[0]=f=>{var r;(r=f==null?void 0:f.currentTarget)==null||r.focus()}),onPointerdown:v[1]||(v[1]=f=>{if(f.pointerType==="touch")return f.preventDefault();const r=f.target;r.hasPointerCapture(f.pointerId)&&r.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&(y(f),f.preventDefault())}),onPointerup:v[2]||(v[2]=be(f=>{f.pointerType==="touch"&&y(f)},["prevent"])),onKeydown:v[3]||(v[3]=f=>{const r=t(b)!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&r&&f.key===" "||(t(p)(f.key,t(h)()),t(oa).includes(f.key)&&(k(),f.preventDefault()))})},{default:c(()=>[B(g.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]}),_:3},8,["reference"]))}}),ua=O({__name:"SelectPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(a){const n=a;return(e,i)=>(u(),z(t(bt),$e(Me(n)),{default:c(()=>[B(e.$slots,"default")]),_:3},16))}}),[da,ca]=xe("SelectItemAlignedPosition"),pa=O({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean},as:{}},emits:["placed"],setup(a,{emit:n}){const e=a,i=n,{getItems:s}=_e(),l=le(),h=Ce(),b=E(!1),p=E(!0),o=E(),{forwardRef:k,currentElement:y}=we(),{viewport:g,selectedItem:v,selectedItemText:T,focusSelectedItem:M}=h;function L(){if(l.triggerElement.value&&l.valueElement.value&&o.value&&y.value&&(g!=null&&g.value)&&(v!=null&&v.value)&&(T!=null&&T.value)){const r=l.triggerElement.value.getBoundingClientRect(),d=y.value.getBoundingClientRect(),C=l.valueElement.value.getBoundingClientRect(),m=T.value.getBoundingClientRect();if(l.dir.value!=="rtl"){const G=m.left-d.left,I=C.left-G,j=r.left-I,Q=r.width+j,re=Math.max(Q,d.width),ue=window.innerWidth-X,de=Xe(I,X,Math.max(X,ue-re));o.value.style.minWidth=`${Q}px`,o.value.style.left=`${de}px`}else{const G=d.right-m.right,I=window.innerWidth-C.right-G,j=window.innerWidth-r.right-I,Q=r.width+j,re=Math.max(Q,d.width),ue=window.innerWidth-X,de=Xe(I,X,Math.max(X,ue-re));o.value.style.minWidth=`${Q}px`,o.value.style.right=`${de}px`}const S=s().map(G=>G.ref),$=window.innerHeight-X*2,D=g.value.scrollHeight,P=window.getComputedStyle(y.value),x=Number.parseInt(P.borderTopWidth,10),oe=Number.parseInt(P.paddingTop,10),Se=Number.parseInt(P.borderBottomWidth,10),Ie=Number.parseInt(P.paddingBottom,10),ke=x+oe+D+Ie+Se,Pe=Math.min(v.value.offsetHeight*5,ke),w=window.getComputedStyle(g.value),H=Number.parseInt(w.paddingTop,10),W=Number.parseInt(w.paddingBottom,10),ie=r.top+r.height/2-X,ze=$-ie,ee=v.value.offsetHeight/2,se=v.value.offsetTop+ee,R=x+oe+se,te=ke-R;if(R<=ie){const G=v.value===S[S.length-1];o.value.style.bottom="0px";const I=y.value.clientHeight-g.value.offsetTop-g.value.offsetHeight,j=Math.max(ze,ee+(G?W:0)+I+Se),Q=R+j;o.value.style.height=`${Q}px`}else{const G=v.value===S[0];o.value.style.top="0px";const j=Math.max(ie,x+g.value.offsetTop+(G?H:0)+ee)+te;o.value.style.height=`${j}px`,g.value.scrollTop=R-ie+g.value.offsetTop}o.value.style.margin=`${X}px 0`,o.value.style.minHeight=`${Pe}px`,o.value.style.maxHeight=`${$}px`,i("placed"),requestAnimationFrame(()=>b.value=!0)}}const A=E("");me(async()=>{await he(),L(),y.value&&(A.value=window.getComputedStyle(y.value).zIndex)});function f(r){r&&p.value===!0&&(L(),M==null||M(),p.value=!1)}return xt(l.triggerElement,()=>{L()}),ca({contentWrapper:o,shouldExpandOnScrollRef:b,onScrollButtonChange:f}),(r,d)=>(u(),N("div",{ref_key:"contentWrapperElement",ref:o,style:_t({display:"flex",flexDirection:"column",position:"fixed",zIndex:A.value})},[_(t(J),V({ref:t(k),style:{boxSizing:"border-box",maxHeight:"100%"}},{...r.$attrs,...e}),{default:c(()=>[B(r.$slots,"default")]),_:3},16)],4))}}),fa=O({__name:"SelectPopperPosition",props:{side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{default:X},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},setup(a){const e=at(a);return(i,s)=>(u(),z(t(Ht),V(t(e),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:c(()=>[B(i.$slots,"default")]),_:3},16))}}),dt={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[Ce,ct]=xe("SelectContent"),ma=O({__name:"SelectContentImpl",props:{position:{default:"item-aligned"},bodyLock:{type:Boolean,default:!0},side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(a,{emit:n}){const e=a,i=n,s=le();jt(),qt(e.bodyLock);const{CollectionSlot:l,getItems:h}=_e(),b=E();Yt(b);const{search:p,handleTypeaheadSearch:o}=rt(),k=E(),y=E(),g=E(),v=E(!1),T=E(!1),M=E(!1);function L(){y.value&&b.value&&qe([y.value,b.value])}tt(v,()=>{L()});const{onOpenChange:A,triggerPointerDownPosRef:f}=s;wt(m=>{if(!b.value)return;let S={x:0,y:0};const $=P=>{var x,oe;S={x:Math.abs(Math.round(P.pageX)-(((x=f.value)==null?void 0:x.x)??0)),y:Math.abs(Math.round(P.pageY)-(((oe=f.value)==null?void 0:oe.y)??0))}},D=P=>{var x;P.pointerType!=="touch"&&(S.x<=10&&S.y<=10?P.preventDefault():(x=b.value)!=null&&x.contains(P.target)||A(!1),document.removeEventListener("pointermove",$),f.value=null)};f.value!==null&&(document.addEventListener("pointermove",$),document.addEventListener("pointerup",D,{capture:!0,once:!0})),m(()=>{document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",D,{capture:!0})})});function r(m){const S=m.ctrlKey||m.altKey||m.metaKey;if(m.key==="Tab"&&m.preventDefault(),!S&&m.key.length===1&&o(m.key,h()),["ArrowUp","ArrowDown","Home","End"].includes(m.key)){let D=[...h().map(P=>P.ref)];if(["ArrowUp","End"].includes(m.key)&&(D=D.slice().reverse()),["ArrowUp","ArrowDown"].includes(m.key)){const P=m.target,x=D.indexOf(P);D=D.slice(x+1)}setTimeout(()=>qe(D)),m.preventDefault()}}const d=K(()=>e.position==="popper"?e:{}),C=at(d.value);return ct({content:b,viewport:k,onViewportChange:m=>{k.value=m},itemRefCallback:(m,S,$)=>{const D=!T.value&&!$,P=De(s.modelValue.value,S,s.by);if(s.multiple.value){if(M.value)return;(P||D)&&(y.value=m,P&&(M.value=!0))}else(P||D)&&(y.value=m);D&&(T.value=!0)},selectedItem:y,selectedItemText:g,onItemLeave:()=>{var m;(m=b.value)==null||m.focus()},itemTextRefCallback:(m,S,$)=>{const D=!T.value&&!$;(De(s.modelValue.value,S,s.by)||D)&&(g.value=m)},focusSelectedItem:L,position:e.position,isPositioned:v,searchRef:p}),(m,S)=>(u(),z(t(l),null,{default:c(()=>[_(t(Xt),{"as-child":"",onMountAutoFocus:S[6]||(S[6]=be(()=>{},["prevent"])),onUnmountAutoFocus:S[7]||(S[7]=$=>{var D;i("closeAutoFocus",$),!$.defaultPrevented&&((D=t(s).triggerElement.value)==null||D.focus({preventScroll:!0}),$.preventDefault())})},{default:c(()=>[_(t(Ct),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:S[2]||(S[2]=be(()=>{},["prevent"])),onDismiss:S[3]||(S[3]=$=>t(s).onOpenChange(!1)),onEscapeKeyDown:S[4]||(S[4]=$=>i("escapeKeyDown",$)),onPointerDownOutside:S[5]||(S[5]=$=>i("pointerDownOutside",$))},{default:c(()=>[(u(),z(St(m.position==="popper"?fa:pa),V({...m.$attrs,...t(C)},{id:t(s).contentId,ref:$=>{b.value=t(et)($)},role:"listbox","data-state":t(s).open.value?"open":"closed",dir:t(s).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:S[0]||(S[0]=be(()=>{},["prevent"])),onPlaced:S[1]||(S[1]=$=>v.value=!0),onKeydown:r}),{default:c(()=>[B(m.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3})]),_:3}))}}),ga=O({inheritAttrs:!1,__name:"SelectProvider",props:{context:{}},setup(a){return ut(a.context),ct(dt),(e,i)=>B(e.$slots,"default")}}),va={key:1},ha=O({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(a,{emit:n}){const e=a,s=nt(e,n),l=le(),h=E();me(()=>{h.value=new DocumentFragment});const b=E(),p=K(()=>e.forceMount||l.open.value);return(o,k)=>{var y;return p.value?(u(),z(t(It),{key:0,ref_key:"presenceRef",ref:b,present:!0},{default:c(()=>[_(ma,$e(Me({...t(s),...o.$attrs})),{default:c(()=>[B(o.$slots,"default")]),_:3},16)]),_:3},512)):!((y=b.value)!=null&&y.present)&&h.value?(u(),N("div",va,[(u(),z(kt,{to:h.value},[_(ga,{context:t(l)},{default:c(()=>[B(o.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):q("",!0)}}}),ya=O({__name:"SelectArrow",props:{width:{default:10},height:{default:5},rounded:{type:Boolean},asChild:{type:Boolean},as:{default:"svg"}},setup(a){const n=a,e=le(),i=Ce(dt);return(s,l)=>t(e).open.value&&t(i).position==="popper"?(u(),z(t(Wt),$e(V({key:0},n)),{default:c(()=>[B(s.$slots,"default")]),_:3},16)):q("",!0)}}),ba=O({__name:"SelectSeparator",props:{asChild:{type:Boolean},as:{}},setup(a){const n=a;return(e,i)=>(u(),z(t(J),V({"aria-hidden":"true"},n),{default:c(()=>[B(e.$slots,"default")]),_:3},16))}}),[pt,xa]=xe("SelectItem"),_a=O({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(a,{emit:n}){const e=a,i=n,{disabled:s}=Ae(e),l=le(),h=Ce(),{forwardRef:b,currentElement:p}=we(),{CollectionItem:o}=_e(),k=K(()=>{var d;return De((d=l.modelValue)==null?void 0:d.value,e.value,l.by)}),y=E(!1),g=E(e.textValue??""),v=Ne(void 0,"reka-select-item-text"),T="select.select";async function M(d){if(d.defaultPrevented)return;const C={originalEvent:d,value:e.value};zt(T,L,C)}async function L(d){await he(),i("select",d),!d.defaultPrevented&&(s.value||(l.onValueChange(e.value),l.multiple.value||l.onOpenChange(!1)))}async function A(d){var C;await he(),!d.defaultPrevented&&(s.value?(C=h.onItemLeave)==null||C.call(h):d.currentTarget.focus({preventScroll:!0}))}async function f(d){var C;await he(),!d.defaultPrevented&&d.currentTarget===Bt()&&((C=h.onItemLeave)==null||C.call(h))}async function r(d){var m;await he(),!(d.defaultPrevented||((m=h.searchRef)==null?void 0:m.value)!==""&&d.key===" ")&&(ia.includes(d.key)&&M(d),d.key===" "&&d.preventDefault())}if(e.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return me(()=>{p.value&&h.itemRefCallback(p.value,e.value,e.disabled)}),xa({value:e.value,disabled:s,textId:v,isSelected:k,onItemTextChange:d=>{g.value=((g.value||(d==null?void 0:d.textContent))??"").trim()}}),(d,C)=>(u(),z(t(o),{value:{textValue:g.value}},{default:c(()=>[_(t(J),{ref:t(b),role:"option","aria-labelledby":t(v),"data-highlighted":y.value?"":void 0,"aria-selected":k.value,"data-state":k.value?"checked":"unchecked","aria-disabled":t(s)||void 0,"data-disabled":t(s)?"":void 0,tabindex:t(s)?void 0:-1,as:d.as,"as-child":d.asChild,onFocus:C[0]||(C[0]=m=>y.value=!0),onBlur:C[1]||(C[1]=m=>y.value=!1),onPointerup:M,onPointerdown:C[2]||(C[2]=m=>{m.currentTarget.focus({preventScroll:!0})}),onTouchend:C[3]||(C[3]=be(()=>{},["prevent","stop"])),onPointermove:A,onPointerleave:f,onKeydown:r},{default:c(()=>[B(d.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),wa=O({__name:"SelectItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(a){const n=a,e=pt();return(i,s)=>t(e).isSelected.value?(u(),z(t(J),V({key:0,"aria-hidden":"true"},n),{default:c(()=>[B(i.$slots,"default")]),_:3},16)):q("",!0)}}),[Ca,Sa]=xe("SelectGroup"),Ia=O({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{}},setup(a){const n=a,e=Ne(void 0,"reka-select-group");return Sa({id:e}),(i,s)=>(u(),z(t(J),V({role:"group"},n,{"aria-labelledby":t(e)}),{default:c(()=>[B(i.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),ka=O({__name:"SelectLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(a){const n=a,e=Ca({id:""});return(i,s)=>(u(),z(t(J),V(n,{id:t(e).id}),{default:c(()=>[B(i.$slots,"default")]),_:3},16,["id"]))}}),za=O({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean},as:{default:"span"}},setup(a){const n=a,e=le(),i=Ce(),s=pt(),{forwardRef:l,currentElement:h}=we(),b=K(()=>{var p,o;return{value:s.value,disabled:s.disabled.value,textContent:((p=h.value)==null?void 0:p.textContent)??((o=s.value)==null?void 0:o.toString())??""}});return me(()=>{h.value&&(s.onItemTextChange(h.value),i.itemTextRefCallback(h.value,s.value,s.disabled.value),e.onOptionAdd(b.value))}),Tt(()=>{e.onOptionRemove(b.value)}),(p,o)=>(u(),z(t(J),V({id:t(s).textId,ref:t(l)},{...n,...p.$attrs}),{default:c(()=>[B(p.$slots,"default")]),_:3},16,["id"]))}}),Ba=O({__name:"SelectViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(a){const n=a,{nonce:e}=Ae(n),i=aa(e),s=Ce(),l=s.position==="item-aligned"?da():void 0,{forwardRef:h,currentElement:b}=we();me(()=>{s==null||s.onViewportChange(b.value)});const p=E(0);function o(k){const y=k.currentTarget,{shouldExpandOnScrollRef:g,contentWrapper:v}=l??{};if(g!=null&&g.value&&(v!=null&&v.value)){const T=Math.abs(p.value-y.scrollTop);if(T>0){const M=window.innerHeight-X*2,L=Number.parseFloat(v.value.style.minHeight),A=Number.parseFloat(v.value.style.height),f=Math.max(L,A);if(f<M){const r=f+T,d=Math.min(M,r),C=r-d;v.value.style.height=`${d}px`,v.value.style.bottom==="0px"&&(y.scrollTop=C>0?C:0,v.value.style.justifyContent="flex-end")}}}p.value=y.scrollTop}return(k,y)=>(u(),N(ne,null,[_(t(J),V({ref:t(h),"data-reka-select-viewport":"",role:"presentation"},{...k.$attrs,...n},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:o}),{default:c(()=>[B(k.$slots,"default")]),_:3},16),_(t(J),{as:"style",nonce:t(i)},{default:c(()=>y[0]||(y[0]=[fe(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1},8,["nonce"])],64))}}),Ta={getAll:async()=>{const a=ot();return await pe(Z.District,{method:"GET",server:!1,lazy:!0,key:Z.District,getCachedData:n=>a.payload.data[n]||a.static.data[n]})},create:async a=>await pe(Z.District,{method:"POST",server:!1,lazy:!0,body:a}),edit:async a=>await pe(Z.District,{method:"PUT",server:!1,lazy:!0,body:a})},Ve={getAll:async()=>{const a=ot();return await pe(Z.SerialNumberGetAll,{method:"GET",server:!1,key:Z.SerialNumberGetAll,getCachedData:n=>a.payload.data[n]||a.static.data[n]})},create:async a=>await pe(Z.SerialNumberCreate,{method:"POST",server:!1,lazy:!0,immediate:!1,watch:!1,body:a}),delete:async a=>await pe(Z.SerialNumberDelete,{method:"DELETE",server:!1,lazy:!0,immediate:!1,watch:!1,body:a})},Aa={slots:{root:"relative inline-flex items-center justify-center shrink-0",base:"rounded-full ring ring-(--ui-bg) flex items-center justify-center text-(--ui-bg) font-medium whitespace-nowrap"},variants:{color:{primary:"bg-(--ui-primary)",secondary:"bg-(--ui-secondary)",success:"bg-(--ui-success)",info:"bg-(--ui-info)",warning:"bg-(--ui-warning)",error:"bg-(--ui-error)",neutral:"bg-(--ui-text-muted)"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px]","2xs":"h-[5px] min-w-[5px] text-[5px]",xs:"h-[6px] min-w-[6px] text-[6px]",sm:"h-[7px] min-w-[7px] text-[7px]",md:"h-[8px] min-w-[8px] text-[8px]",lg:"h-[9px] min-w-[9px] text-[9px]",xl:"h-[10px] min-w-[10px] text-[10px]","2xl":"h-[11px] min-w-[11px] text-[11px]","3xl":"h-[12px] min-w-[12px] text-[12px]"},position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},inset:{false:""},standalone:{false:"absolute"}},compoundVariants:[{position:"top-right",inset:!1,class:"-translate-y-1/2 translate-x-1/2 transform"},{position:"bottom-right",inset:!1,class:"translate-y-1/2 translate-x-1/2 transform"},{position:"top-left",inset:!1,class:"-translate-y-1/2 -translate-x-1/2 transform"},{position:"bottom-left",inset:!1,class:"translate-y-1/2 -translate-x-1/2 transform"}],defaultVariants:{size:"md",color:"primary",position:"top-right"}},$a=it;var Ze;const Pa=Be({extend:Be(Aa),...((Ze=$a.ui)==null?void 0:Ze.chip)||{}}),Ea=O({inheritAttrs:!1,__name:"Chip",props:At({as:{},text:{},color:{},size:{},position:{},inset:{type:Boolean,default:!1},standalone:{type:Boolean,default:!1},class:{},ui:{}},{show:{type:Boolean,default:!0},showModifiers:{}}),emits:["update:show"],setup(a){const n=a,e=$t(a,"show"),{size:i}=Pt(n),s=K(()=>Pa({color:n.color,size:i.value,position:n.position,inset:n.inset,standalone:n.standalone}));return(l,h)=>{var b;return u(),z(t(J),{as:l.as,class:U(s.value.root({class:[n.class,(b=n.ui)==null?void 0:b.root]}))},{default:c(()=>{var p;return[_(t(Et),$e(Me(l.$attrs)),{default:c(()=>[B(l.$slots,"default")]),_:3},16),e.value?(u(),N("span",{key:0,class:U(s.value.base({class:(p=n.ui)==null?void 0:p.base}))},[B(l.$slots,"content",{},()=>[fe(Y(l.text),1)])],2)):q("",!0)]}),_:3},8,["as","class"])}}}),La=Object.assign(Ea,{__name:"UChip"}),Da={slots:{base:["relative group rounded-[calc(var(--ui-radius)*1.5)] inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-(--ui-text-dimmed)",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-(--ui-text-dimmed)",value:"truncate pointer-events-none",placeholder:"truncate text-(--ui-text-dimmed)",arrow:"fill-(--ui-border)",content:"max-h-60 w-(--reka-popper-anchor-width) bg-(--ui-bg) shadow-lg rounded-[calc(var(--ui-radius)*1.5)] ring ring-(--ui-border) overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] pointer-events-auto",viewport:"divide-y divide-(--ui-border) scroll-py-1",group:"p-1 isolate",empty:"py-2 text-center text-sm text-(--ui-text-muted)",label:"font-semibold text-(--ui-text-highlighted)",separator:"-mx-1 my-1 h-px bg-(--ui-border)",item:["group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-[calc(var(--ui-radius)*1.5)] data-disabled:cursor-not-allowed data-disabled:opacity-75 text-(--ui-text) data-highlighted:text-(--ui-text-highlighted) data-highlighted:before:bg-(--ui-bg-elevated)/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-(--ui-text-dimmed) group-data-highlighted:text-(--ui-text)","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate"},variants:{buttonGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6"}},variant:{outline:"text-(--ui-text-highlighted) bg-(--ui-bg) ring ring-inset ring-(--ui-border-accented)",soft:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated)/50 hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-(--ui-bg-elevated)/50",subtle:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated) ring ring-inset ring-(--ui-border-accented)",ghost:"text-(--ui-text-highlighted) bg-transparent hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-transparent dark:disabled:bg-transparent",none:"text-(--ui-text-highlighted) bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-(--ui-text-muted) file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-primary)"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-secondary)"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-success)"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-info)"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-warning)"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-error)"},{color:"primary",highlight:!0,class:"ring ring-inset ring-(--ui-primary)"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-(--ui-secondary)"},{color:"success",highlight:!0,class:"ring ring-inset ring-(--ui-success)"},{color:"info",highlight:!0,class:"ring ring-inset ring-(--ui-info)"},{color:"warning",highlight:!0,class:"ring ring-inset ring-(--ui-warning)"},{color:"error",highlight:!0,class:"ring ring-inset ring-(--ui-error)"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-border-inverted)"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-(--ui-border-inverted)"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Oa=it;var Je;const Ma=Be({extend:Be(Da),...((Je=Oa.ui)==null?void 0:Je.select)||{}}),Na=O({inheritAttrs:!1,__name:"Select",props:{id:{},placeholder:{},color:{},variant:{},size:{},trailingIcon:{},selectedIcon:{},content:{},arrow:{type:[Boolean,Object]},portal:{type:Boolean,default:!0},valueKey:{default:"value"},labelKey:{default:"label"},items:{},defaultValue:{},modelValue:{},multiple:{type:Boolean},highlight:{type:Boolean},class:{},ui:{},open:{type:Boolean},defaultOpen:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean},icon:{},avatar:{},leading:{type:Boolean},leadingIcon:{},trailing:{type:Boolean},loading:{type:Boolean},loadingIcon:{}},emits:["update:open","change","blur","focus","update:modelValue"],setup(a,{emit:n}){const e=a,i=n,s=Lt(),l=Dt(),h=nt(Ot(e,"open","defaultOpen","disabled","autocomplete","required","multiple"),i),b=Ee(()=>We(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),p=Ee(()=>e.arrow),{emitFormChange:o,emitFormInput:k,emitFormBlur:y,emitFormFocus:g,size:v,color:T,id:M,name:L,highlight:A,disabled:f,ariaAttrs:r}=Mt(e),{orientation:d,size:C}=Nt(e),{isLeading:m,isTrailing:S,leadingIconName:$,trailingIconName:D}=Vt(Ee(()=>We(e,{trailingIcon:l.ui.icons.chevronDown}))),P=K(()=>C.value||v.value),x=K(()=>Ma({color:T.value,variant:e.variant,size:P==null?void 0:P.value,loading:e.loading,highlight:A.value,leading:m.value||!!e.avatar||!!s.leading,trailing:S.value||!!s.trailing,buttonGroup:d.value})),oe=K(()=>{var w;return(w=e.items)!=null&&w.length?Array.isArray(e.items[0])?e.items:[e.items]:[]}),Se=K(()=>oe.value.flatMap(w=>w));function Ie(w){if(e.multiple&&Array.isArray(w))return w.map(W=>Ie(W)).filter(Boolean).join(", ");const H=Se.value.find(W=>Rt(typeof W=="object"?ve(W,e.valueKey):W,w));return H&&(typeof H=="object"?ve(H,e.labelKey):H)}function ke(w){const H=new Event("change",{target:{value:w}});i("change",H),o(),k()}function Pe(w){if(w){const H=new FocusEvent("focus");i("focus",H),g()}else{const H=new FocusEvent("blur");i("blur",H),y()}}return(w,H)=>(u(),z(t(la),V({name:t(L)},t(h),{autocomplete:w.autocomplete,disabled:t(f),"default-value":w.defaultValue,"model-value":w.modelValue,"onUpdate:modelValue":ke,"onUpdate:open":Pe}),{default:c(({modelValue:W,open:ie})=>{var ze;return[_(t(ra),V({id:t(M),class:x.value.base({class:[e.class,(ze=e.ui)==null?void 0:ze.base]})},{...w.$attrs,...t(r)}),{default:c(()=>{var ee,se;return[t(m)||w.avatar||s.leading?(u(),N("span",{key:0,class:U(x.value.leading({class:(ee=e.ui)==null?void 0:ee.leading}))},[B(w.$slots,"leading",{modelValue:W,open:ie,ui:x.value},()=>{var R,te,ae;return[t(m)&&t($)?(u(),z(ce,{key:0,name:t($),class:U(x.value.leadingIcon({class:(R=e.ui)==null?void 0:R.leadingIcon}))},null,8,["name","class"])):w.avatar?(u(),z(Ge,V({key:1,size:((te=e.ui)==null?void 0:te.itemLeadingAvatarSize)||x.value.itemLeadingAvatarSize()},w.avatar,{class:x.value.itemLeadingAvatar({class:(ae=e.ui)==null?void 0:ae.itemLeadingAvatar})}),null,16,["size","class"])):q("",!0)]})],2)):q("",!0),B(w.$slots,"default",{modelValue:W,open:ie},()=>[(u(!0),N(ne,null,ye([Ie(W)],R=>{var te,ae;return u(),N(ne,{key:R},[R?(u(),N("span",{key:0,class:U(x.value.value({class:(te=e.ui)==null?void 0:te.value}))},Y(R),3)):(u(),N("span",{key:1,class:U(x.value.placeholder({class:(ae=e.ui)==null?void 0:ae.placeholder}))},Y(w.placeholder??" "),3))],64)}),128))]),t(S)||s.trailing?(u(),N("span",{key:1,class:U(x.value.trailing({class:(se=e.ui)==null?void 0:se.trailing}))},[B(w.$slots,"trailing",{modelValue:W,open:ie,ui:x.value},()=>{var R;return[t(D)?(u(),z(ce,{key:0,name:t(D),class:U(x.value.trailingIcon({class:(R=e.ui)==null?void 0:R.trailingIcon}))},null,8,["name","class"])):q("",!0)]})],2)):q("",!0)]}),_:2},1040,["id","class"]),_(t(ua),{disabled:!w.portal},{default:c(()=>{var ee;return[_(t(ha),V({class:x.value.content({class:(ee=e.ui)==null?void 0:ee.content})},b.value),{default:c(()=>{var se,R;return[_(t(Ba),{class:U(x.value.viewport({class:(se=e.ui)==null?void 0:se.viewport}))},{default:c(()=>[(u(!0),N(ne,null,ye(oe.value,(te,ae)=>{var G;return u(),z(t(Ia),{key:`group-${ae}`,class:U(x.value.group({class:(G=e.ui)==null?void 0:G.group}))},{default:c(()=>[(u(!0),N(ne,null,ye(te,(I,j)=>{var Q,re,ue;return u(),N(ne,{key:`group-${ae}-${j}`},[(I==null?void 0:I.type)==="label"?(u(),z(t(ka),{key:0,class:U(x.value.label({class:(Q=e.ui)==null?void 0:Q.label}))},{default:c(()=>[fe(Y(t(ve)(I,e.labelKey)),1)]),_:2},1032,["class"])):(I==null?void 0:I.type)==="separator"?(u(),z(t(ba),{key:1,class:U(x.value.separator({class:(re=e.ui)==null?void 0:re.separator}))},null,8,["class"])):(u(),z(t(_a),{key:2,class:U(x.value.item({class:(ue=e.ui)==null?void 0:ue.item})),disabled:I.disabled,value:typeof I=="object"?t(ve)(I,e.valueKey):I},{default:c(()=>[B(w.$slots,"item",{item:I,index:j},()=>{var de,Re;return[B(w.$slots,"item-leading",{item:I,index:j},()=>{var ge,Ue,Fe,Ke,He;return[I.icon?(u(),z(ce,{key:0,name:I.icon,class:U(x.value.itemLeadingIcon({class:(ge=e.ui)==null?void 0:ge.itemLeadingIcon}))},null,8,["name","class"])):I.avatar?(u(),z(Ge,V({key:1,size:((Ue=e.ui)==null?void 0:Ue.itemLeadingAvatarSize)||x.value.itemLeadingAvatarSize(),ref_for:!0},I.avatar,{class:x.value.itemLeadingAvatar({class:(Fe=e.ui)==null?void 0:Fe.itemLeadingAvatar})}),null,16,["size","class"])):I.chip?(u(),z(La,V({key:2,size:((Ke=e.ui)==null?void 0:Ke.itemLeadingChipSize)||x.value.itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},I.chip,{class:x.value.itemLeadingChip({class:(He=e.ui)==null?void 0:He.itemLeadingChip})}),null,16,["size","class"])):q("",!0)]}),_(t(za),{class:U(x.value.itemLabel({class:(de=e.ui)==null?void 0:de.itemLabel}))},{default:c(()=>[B(w.$slots,"item-label",{item:I,index:j},()=>[fe(Y(typeof I=="object"?t(ve)(I,e.labelKey):I),1)])]),_:2},1032,["class"]),F("span",{class:U(x.value.itemTrailing({class:(Re=e.ui)==null?void 0:Re.itemTrailing}))},[B(w.$slots,"item-trailing",{item:I,index:j}),_(t(wa),{"as-child":""},{default:c(()=>{var ge;return[_(ce,{name:w.selectedIcon||t(l).ui.icons.check,class:U(x.value.itemTrailingIcon({class:(ge=e.ui)==null?void 0:ge.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1032,["class","disabled","value"]))],64)}),128))]),_:2},1032,["class"])}),128))]),_:3},8,["class"]),w.arrow?(u(),z(t(ya),V({key:0},p.value,{class:x.value.arrow({class:(R=e.ui)==null?void 0:R.arrow})}),null,16,["class"])):q("",!0)]}),_:3},16,["class"])]}),_:3},8,["disabled"])]}),_:3},16,["name","autocomplete","disabled","default-value","model-value"]))}}),Va=Object.assign(Na,{__name:"USelect"}),Ra={class:"flex gap-4"},Ua=O({__name:"AddSerialNumberComponent",async setup(a){let n,e;const i=E({data:{role:Le.user,districtId:"",notes:""},feature:{modal:{open:!1}}}),{execute:s,status:l}=([n,e]=Te(()=>Ve.create(i.value.data)),n=await n,e(),n),{data:h}=Ut(Z.District),b=async()=>{const{feature:p,data:o}=i.value;await s(),await lt(Z.SerialNumberGetAll),p.modal.open=!1,o.role=Le.user,o.districtId="",o.notes=""};return(p,o)=>{const k=ce,y=st,g=Va,v=Jt,T=Qt,M=Zt,L=Qe;return u(),N("div",null,[_(y,{onClick:o[0]||(o[0]=A=>t(i).feature.modal.open=!0)},{default:c(()=>[_(k,{name:"i-lucide-plus"}),o[6]||(o[6]=fe(" 創建序號 "))]),_:1}),_(L,{open:t(i).feature.modal.open,"onUpdate:open":o[5]||(o[5]=A=>t(i).feature.modal.open=A),title:"創建序號",ui:{footer:"justify-end"}},{body:c(()=>[_(M,{state:t(i).data,class:"space-y-4 flex flex-col gap-4"},{default:c(()=>[F("div",Ra,[_(v,{label:"角色",name:"role"},{default:c(()=>[_(g,{modelValue:t(i).data.role,"onUpdate:modelValue":o[1]||(o[1]=A=>t(i).data.role=A),items:t(ea),label:"角色",name:"role"},null,8,["modelValue","items"])]),_:1}),_(v,{label:"區域",name:"districtId"},{default:c(()=>{var A;return[_(g,{modelValue:t(i).data.districtId,"onUpdate:modelValue":o[2]||(o[2]=f=>t(i).data.districtId=f),label:"區域",name:"districtId",items:(A=t(h))==null?void 0:A.districts.map(f=>({label:f.name,value:f._id}))},null,8,["modelValue","items"])]}),_:1})]),_(v,{label:"備註",name:"notes"},{default:c(()=>[_(T,{modelValue:t(i).data.notes,"onUpdate:modelValue":o[3]||(o[3]=A=>t(i).data.notes=A),label:"備註",name:"notes",ui:{root:"w-full"}},null,8,["modelValue"])]),_:1})]),_:1},8,["state"])]),footer:c(()=>[_(y,{label:"取消",color:"neutral",variant:"outline",onClick:o[4]||(o[4]=A=>t(i).feature.modal.open=!1)}),_(y,{label:"確認",variant:"outline",disabled:!t(i).data.role||!t(i).data.districtId||!t(i).data.notes,loading:t(l)==="pending",onClick:b},null,8,["disabled","loading"])]),_:1},8,["open"])])}}}),Fa=O({__name:"DeleteSerialNumberComponent",props:{serialNumberId:{}},async setup(a){let n,e;const i=a,{serialNumberId:s}=Ae(i),l=E({feature:{modal:{open:!1}},data:null}),{execute:h,status:b}=([n,e]=Te(()=>Ve.delete({id:s.value})),n=await n,e(),n),p=async()=>{await h(),await lt(Z.SerialNumberGetAll),l.value.feature.modal.open=!1};return(o,k)=>{const y=ce,g=st,v=Qe;return u(),N(ne,null,[F("div",null,[_(y,{name:"i-lucide-trash",class:"size-5",onClick:k[0]||(k[0]=T=>t(l).feature.modal.open=!0)})]),_(v,{open:t(l).feature.modal.open,"onUpdate:open":k[2]||(k[2]=T=>t(l).feature.modal.open=T),title:"刪除序號",ui:{footer:"justify-end"}},{body:c(()=>[F("p",null,Y(`是否刪除序號 ${t(s)}`),1)]),footer:c(()=>[_(g,{label:"取消",color:"neutral",variant:"outline",onClick:k[1]||(k[1]=T=>t(l).feature.modal.open=!1)}),_(g,{label:"確認",variant:"outline",loading:t(b)==="pending",onClick:p},null,8,["loading"])]),_:1},8,["open"])],64)}}}),Ka={class:"flex items-center gap-2 justify-between mb-4"},Ha={class:"flex items-center gap-2 justify-between"},ja={class:"flex items-center gap-2"},an=O({__name:"serialNumber",async setup(a){let n,e;const{data:i}=([n,e]=Te(()=>Ve.getAll()),n=await n,e(),n);return[n,e]=Te(()=>Ta.getAll()),await n,e(),(s,l)=>{var p;const h=ft,b=mt;return u(),N("div",null,[F("div",Ka,[l[0]||(l[0]=F("p",{class:"text-md font-bold"}," 序號列表 ",-1)),_(t(Ua))]),(u(!0),N(ne,null,ye((p=t(i))==null?void 0:p.userSerialNumber,o=>(u(),z(b,{key:o._id,class:"mb-4"},{header:c(()=>[F("div",Ha,[F("div",ja,[_(h,{color:o.isUsed?"success":"warning",variant:"outline"},{default:c(()=>[fe(Y(o.isUsed?"已使用":"未使用"),1)]),_:2},1032,["color"]),F("p",null,Y(o.notes||"無備註"),1)]),_(t(Fa),{"serial-number-id":o._id},null,8,["serial-number-id"])])]),default:c(()=>[F("p",null,"序號："+Y(o.serialNumber),1),F("p",null,"角色："+Y(o.role),1),F("p",null,"區："+Y(o.districtId.name),1),F("p",null,"創建時間："+Y(o.createdAt),1)]),_:2},1024))),128))])}}});export{an as default};
