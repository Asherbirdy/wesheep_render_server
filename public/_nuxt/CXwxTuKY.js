import{e as b,A as oe,C as se,r as P,B as ae,x as d,i as e,E as O,G as Q,j as m,o as i,w as p,v as C,P as h,Y as H,b as A,R as ne,as as K,V as W,k as g,I as X,J as Z,K as le,a3 as F,a6 as x,a7 as ee,n as M,c as D,a4 as $,am as ie,a8 as re,T as ue,a9 as de,aa as pe,at as ce,y as fe,d as k,t as E,a as me,l as ve}from"./CTl1oznX.js";import{u as R}from"./vbm2w1uJ.js";import{g as ye,_ as ge,a as be,u as _e}from"./D-rPpiA-.js";const[B,$e]=oe("DialogRoot"),Ce=b({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(c,{emit:n}){const t=c,o=se(t,"open",n,{defaultValue:t.defaultOpen,passive:t.open===void 0}),v=P(),y=P(),{modal:f}=ae(t);return $e({open:o,modal:f,openModal:()=>{o.value=!0},onOpenChange:r=>{o.value=r},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:v,contentElement:y}),(r,l)=>d(r.$slots,"default",{open:e(o)})}}),Oe=b({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(c){const n=c,t=B(),{forwardRef:a,currentElement:o}=O();return t.contentId||(t.contentId=R(void 0,"reka-dialog-content")),Q(()=>{t.triggerElement.value=o.value}),(v,y)=>(i(),m(e(h),C(n,{ref:e(a),type:v.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:p(()=>[d(v.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),te=b({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(c,{emit:n}){const t=c,a=n,o=B(),{forwardRef:v,currentElement:y}=O();return o.titleId||(o.titleId=R(void 0,"reka-dialog-title")),o.descriptionId||(o.descriptionId=R(void 0,"reka-dialog-description")),Q(()=>{o.contentElement=y,H()!==document.body&&(o.triggerElement.value=H())}),(f,r)=>(i(),m(e(ge),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:r[5]||(r[5]=l=>a("openAutoFocus",l)),onUnmountAutoFocus:r[6]||(r[6]=l=>a("closeAutoFocus",l))},{default:p(()=>[A(e(ne),C({id:e(o).contentId,ref:e(v),as:f.as,"as-child":f.asChild,"disable-outside-pointer-events":f.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(o).descriptionId,"aria-labelledby":e(o).titleId,"data-state":e(ye)(e(o).open.value)},f.$attrs,{onDismiss:r[0]||(r[0]=l=>e(o).onOpenChange(!1)),onEscapeKeyDown:r[1]||(r[1]=l=>a("escapeKeyDown",l)),onFocusOutside:r[2]||(r[2]=l=>a("focusOutside",l)),onInteractOutside:r[3]||(r[3]=l=>a("interactOutside",l)),onPointerDownOutside:r[4]||(r[4]=l=>a("pointerDownOutside",l))}),{default:p(()=>[d(f.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Be=b({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(c,{emit:n}){const t=c,a=n,o=B(),v=K(a),{forwardRef:y,currentElement:f}=O();return be(f),(r,l)=>(i(),m(te,C({...t,...e(v)},{ref:e(y),"trap-focus":e(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:l[0]||(l[0]=u=>{var s;u.defaultPrevented||(u.preventDefault(),(s=e(o).triggerElement.value)==null||s.focus())}),onPointerDownOutside:l[1]||(l[1]=u=>{const s=u.detail.originalEvent,_=s.button===0&&s.ctrlKey===!0;(s.button===2||_)&&u.preventDefault()}),onFocusOutside:l[2]||(l[2]=u=>{u.preventDefault()})}),{default:p(()=>[d(r.$slots,"default")]),_:3},16,["trap-focus"]))}}),De=b({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(c,{emit:n}){const t=c,o=K(n);O();const v=B(),y=P(!1),f=P(!1);return(r,l)=>(i(),m(te,C({...t,...e(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:l[0]||(l[0]=u=>{var s;u.defaultPrevented||(y.value||(s=e(v).triggerElement.value)==null||s.focus(),u.preventDefault()),y.value=!1,f.value=!1}),onInteractOutside:l[1]||(l[1]=u=>{var w;u.defaultPrevented||(y.value=!0,u.detail.originalEvent.type==="pointerdown"&&(f.value=!0));const s=u.target;((w=e(v).triggerElement.value)==null?void 0:w.contains(s))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&f.value&&u.preventDefault()})}),{default:p(()=>[d(r.$slots,"default")]),_:3},16))}}),he=b({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(c,{emit:n}){const t=c,a=n,o=B(),v=K(a),{forwardRef:y}=O();return(f,r)=>(i(),m(e(W),{present:f.forceMount||e(o).open.value},{default:p(()=>[e(o).modal.value?(i(),m(Be,C({key:0,ref:e(y)},{...t,...e(v),...f.$attrs}),{default:p(()=>[d(f.$slots,"default")]),_:3},16)):(i(),m(De,C({key:1,ref:e(y)},{...t,...e(v),...f.$attrs}),{default:p(()=>[d(f.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),we=b({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(c){const n=B();return _e(!0),O(),(t,a)=>(i(),m(e(h),{as:t.as,"as-child":t.asChild,"data-state":e(n).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:p(()=>[d(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),ke=b({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(c){const n=B(),{forwardRef:t}=O();return(a,o)=>{var v;return(v=e(n))!=null&&v.modal.value?(i(),m(e(W),{key:0,present:a.forceMount||e(n).open.value},{default:p(()=>[A(we,C(a.$attrs,{ref:e(t),as:a.as,"as-child":a.asChild}),{default:p(()=>[d(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):g("",!0)}}}),Ee=b({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(c){const n=c;O();const t=B();return(a,o)=>(i(),m(e(h),C(n,{type:a.as==="button"?"button":void 0,onClick:o[0]||(o[0]=v=>e(t).onOpenChange(!1))}),{default:p(()=>[d(a.$slots,"default")]),_:3},16,["type"]))}}),G=b({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(c){const n=c,t=B();return O(),(a,o)=>(i(),m(e(h),C(n,{id:e(t).titleId}),{default:p(()=>[d(a.$slots,"default")]),_:3},16,["id"]))}}),J=b({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(c){const n=c;O();const t=B();return(a,o)=>(i(),m(e(h),C(n,{id:e(t).descriptionId}),{default:p(()=>[d(a.$slots,"default")]),_:3},16,["id"]))}}),Pe=b({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(c){const n=c;return(t,a)=>(i(),m(e(le),X(Z(n)),{default:p(()=>[d(t.$slots,"default")]),_:3},16))}}),Ae={slots:{root:"rounded-[calc(var(--ui-radius)*2)]",header:"p-4 sm:px-6",body:"p-4 sm:p-6",footer:"p-4 sm:px-6"},variants:{variant:{solid:{root:"bg-(--ui-bg-inverted) text-(--ui-bg)"},outline:{root:"bg-(--ui-bg) ring ring-(--ui-border) divide-y divide-(--ui-border)"},soft:{root:"bg-(--ui-bg-elevated)/50 divide-y divide-(--ui-border)"},subtle:{root:"bg-(--ui-bg-elevated)/50 ring ring-(--ui-border) divide-y divide-(--ui-border)"}}},defaultVariants:{variant:"outline"}},Fe=x;var Y;const Ie=F({extend:F(Ae),...((Y=Fe.ui)==null?void 0:Y.card)||{}}),Me=b({__name:"Card",props:{as:{},variant:{},class:{},ui:{}},setup(c){const n=c,t=ee(),a=M(()=>Ie({variant:n.variant}));return(o,v)=>{var y;return i(),m(e(h),{as:o.as,class:$(a.value.root({class:[n.class,(y=n.ui)==null?void 0:y.root]}))},{default:p(()=>{var f,r,l;return[t.header?(i(),D("div",{key:0,class:$(a.value.header({class:(f=n.ui)==null?void 0:f.header}))},[d(o.$slots,"header")],2)):g("",!0),t.default?(i(),D("div",{key:1,class:$(a.value.body({class:(r=n.ui)==null?void 0:r.body}))},[d(o.$slots,"default")],2)):g("",!0),t.footer?(i(),D("div",{key:2,class:$(a.value.footer({class:(l=n.ui)==null?void 0:l.footer}))},[d(o.$slots,"footer")],2)):g("",!0)]}),_:3},8,["as","class"])}}}),Le=Object.assign(Me,{__name:"UCard"}),Re={slots:{overlay:"fixed inset-0 bg-(--ui-bg-elevated)/75",content:"fixed bg-(--ui-bg) divide-y divide-(--ui-border) flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-(--ui-text-highlighted) font-semibold",description:"mt-1 text-(--ui-text-muted) text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-[calc(var(--ui-radius)*2)] shadow-lg ring ring-(--ui-border)"}}}},Ke=x;var q;const Te=F({extend:F(Re),...((q=Ke.ui)==null?void 0:q.modal)||{}}),Ve=b({__name:"Modal",props:{title:{},description:{},content:{},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},fullscreen:{type:Boolean},portal:{type:Boolean,default:!0},close:{type:[Boolean,Object],default:!0},closeIcon:{},dismissible:{type:Boolean,default:!0},class:{},ui:{},open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean,default:!0}},emits:["after:leave","update:open"],setup(c,{emit:n}){const t=c,a=n,o=ee(),{t:v}=ie(),y=re(),f=ue(de(t,"open","defaultOpen","modal"),a),r=pe(()=>t.content),l=M(()=>{const s={closeAutoFocus:_=>_.preventDefault()};return t.dismissible?s:{pointerDownOutside:_=>_.preventDefault(),interactOutside:_=>_.preventDefault(),escapeKeyDown:_=>_.preventDefault(),...s}}),u=M(()=>Te({transition:t.transition,fullscreen:t.fullscreen}));return(s,_)=>(i(),m(e(Ce),X(Z(e(f))),{default:p(({open:w})=>[o.default?(i(),m(e(Oe),{key:0,"as-child":"",class:$(t.class)},{default:p(()=>[d(s.$slots,"default",{open:w})]),_:2},1032,["class"])):g("",!0),A(e(Pe),{disabled:!s.portal},{default:p(()=>{var T,V;return[s.overlay?(i(),m(e(ke),{key:0,class:$(u.value.overlay({class:(T=t.ui)==null?void 0:T.overlay}))},null,8,["class"])):g("",!0),A(e(he),C({class:u.value.content({class:[!o.default&&t.class,(V=t.ui)==null?void 0:V.content]})},r.value,{onAfterLeave:_[0]||(_[0]=I=>a("after:leave"))},ce(l.value)),{default:p(()=>[o.content&&(s.title||o.title||s.description||o.description)?(i(),m(e(fe),{key:0},{default:p(()=>[s.title||o.title?(i(),m(e(G),{key:0},{default:p(()=>[d(s.$slots,"title",{},()=>[k(E(s.title),1)])]),_:3})):g("",!0),s.description||o.description?(i(),m(e(J),{key:1},{default:p(()=>[d(s.$slots,"description",{},()=>[k(E(s.description),1)])]),_:3})):g("",!0)]),_:3})):g("",!0),d(s.$slots,"content",{},()=>{var I,j,N;return[o.header||s.title||o.title||s.description||o.description||s.close||o.close?(i(),D("div",{key:0,class:$(u.value.header({class:(I=t.ui)==null?void 0:I.header}))},[d(s.$slots,"header",{},()=>{var S,L,z;return[me("div",{class:$(u.value.wrapper({class:(S=t.ui)==null?void 0:S.wrapper}))},[s.title||o.title?(i(),m(e(G),{key:0,class:$(u.value.title({class:(L=t.ui)==null?void 0:L.title}))},{default:p(()=>[d(s.$slots,"title",{},()=>[k(E(s.title),1)])]),_:3},8,["class"])):g("",!0),s.description||o.description?(i(),m(e(J),{key:1,class:$(u.value.description({class:(z=t.ui)==null?void 0:z.description}))},{default:p(()=>[d(s.$slots,"description",{},()=>[k(E(s.description),1)])]),_:3},8,["class"])):g("",!0)],2),s.close||o.close?(i(),m(e(Ee),{key:0,"as-child":""},{default:p(()=>[d(s.$slots,"close",{ui:u.value},()=>{var U;return[s.close?(i(),m(ve,C({key:0,icon:s.closeIcon||e(y).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":e(v)("modal.close")},typeof s.close=="object"?s.close:{},{class:u.value.close({class:(U=t.ui)==null?void 0:U.close})}),null,16,["icon","aria-label","class"])):g("",!0)]})]),_:3})):g("",!0)]})],2)):g("",!0),o.body?(i(),D("div",{key:1,class:$(u.value.body({class:(j=t.ui)==null?void 0:j.body}))},[d(s.$slots,"body")],2)):g("",!0),o.footer?(i(),D("div",{key:2,class:$(u.value.footer({class:(N=t.ui)==null?void 0:N.footer}))},[d(s.$slots,"footer")],2)):g("",!0)]})]),_:3},16,["class"])]}),_:3},8,["disabled"])]),_:3},16))}}),ze=Object.assign(Ve,{__name:"UModal"});export{Le as _,ze as a};
