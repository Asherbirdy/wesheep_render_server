import{U as A,e as Q,g as F,m as R,c as d,b as G,w as o,i,j as W,o as n,d as u,a as e,F as v,k as m,l as x,t as a}from"./DIPn02Ng.js";import{U as X}from"./Cm2oZUp6.js";import{_ as Y}from"./MfrWkBAV.js";import{u as S}from"./CvVAJI81.js";import"./Bw_pLMRO.js";import"./BiJaHO9S.js";import"./B0qxYQbn.js";const q={getAll:async()=>await S(A.MeetingCenter,{method:"GET",server:!1}),create:async()=>await S(A.MeetingCenter,{method:"POST",server:!1,lazy:!0,immediate:!1})},Z={class:"flex flex-wrap gap-2"},h={class:"flex flex-wrap gap-2"},tt={class:"flex flex-wrap gap-2"},et={class:"flex flex-wrap gap-2"},lt={class:"flex flex-wrap gap-2"},nt={class:"flex flex-wrap gap-2"},rt={class:"flex flex-wrap gap-2"},st={class:"flex flex-wrap gap-2"},at={class:"flex flex-wrap gap-2"},ot={class:"flex flex-wrap gap-2"},it={class:"flex flex-wrap gap-2"},ut={class:"flex flex-wrap gap-2"},ft={class:"flex flex-wrap gap-2"},dt={class:"flex flex-wrap gap-2"},wt=Q({__name:"meetingCenter",async setup(pt){let y,b;const{data:I,refresh:j}=([y,b]=F(()=>q.getAll()),y=await y,b(),y),{execute:O,status:V}=([y,b]=F(()=>q.create()),y=await y,b(),y),_=R(()=>{var r;return(r=I.value)==null?void 0:r.data}),z=R(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.identity==="兒童")}),L=R(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.identity!=="兒童")}),N=R(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.districtName==="一區")}),T=R(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.districtName==="二區")}),U=R(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.districtName==="三區")}),B=R(()=>{var r;return(r=_.value)==null?void 0:r.filter(t=>t.districtName==="四區")}),P=[{label:"報名名單",slot:"join"},{label:"搭乘遊覽車",slot:"departure"},{label:"自行前往",slot:"selfGo"}],$=async()=>{await O(),await j()},H=["男介朋友","女介朋友","兒童"],w=r=>H.includes(r);return(r,t)=>{const J=W,p=X,K=Y;return n(),d("div",null,[G(J,{size:"sm",variant:"soft",loading:i(V)==="pending",onClick:$},{default:o(()=>t[0]||(t[0]=[u(" 更新數據 ")])),_:1},8,["loading"]),G(K,{items:P,variant:"link",class:"gap-4 w-full",ui:{trigger:"flex-1"}},{join:o(()=>{var k,C,g;return[e("div",null,"6/8 港湖集中主日 報名："+a((k=i(_))==null?void 0:k.length)+"位",1),e("div",null,"成人"+a((C=i(L))==null?void 0:C.length)+"位,兒童"+a((g=i(z))==null?void 0:g.length)+"位",1),t[1]||(t[1]=e("p",{class:"text-sm text-red-600"},[u(" 請於5/27日前"),e("br"),u("協助調查是否搭乘遊覽車～謝謝 ")],-1)),t[2]||(t[2]=e("p",null,"一區",-1)),e("div",Z,[(n(!0),d(v,null,m(i(N),(s,c)=>(n(),x(p,{key:c,color:w(s.identity)?"success":"info",variant:"soft"},{default:o(()=>[u(a(s.name)+a(w(s.identity)?"(福音朋友)":""),1)]),_:2},1032,["color"]))),128))]),t[3]||(t[3]=e("p",null,"二區",-1)),e("div",h,[(n(!0),d(v,null,m(i(T),(s,c)=>(n(),x(p,{key:c,color:w(s.identity)?"success":"info",variant:"soft"},{default:o(()=>[u(a(s.name)+a(w(s.identity)?"(福音朋友)":""),1)]),_:2},1032,["color"]))),128))]),t[4]||(t[4]=e("p",null,"三區",-1)),e("div",tt,[(n(!0),d(v,null,m(i(U),(s,c)=>(n(),x(p,{key:c,color:w(s.identity)?"success":"info",variant:"soft"},{default:o(()=>[u(a(s.name)+a(w(s.identity)?"(福音朋友)":""),1)]),_:2},1032,["color"]))),128))]),t[5]||(t[5]=e("p",null,"四區",-1)),e("div",et,[(n(!0),d(v,null,m(i(B),(s,c)=>(n(),x(p,{key:c,color:w(s.identity)?"success":"info",variant:"soft"},{default:o(()=>[u(a(s.name)+a(w(s.identity)?"(福音朋友)":""),1)]),_:2},1032,["color"]))),128))])]}),departure:o(()=>{var k,C,g,s,c,M,D,E;return[e("div",null,[t[6]||(t[6]=e("p",null,"6/8 港湖集中主日 要搭遊覽車人位",-1)),t[7]||(t[7]=e("p",{class:"font-bold"}," 搭乘去程遊覽車(東湖->信基) ",-1)),t[8]||(t[8]=e("p",null,"一區:",-1)),e("div",lt,[(n(!0),d(v,null,m((k=i(N))==null?void 0:k.filter(l=>l.departure==="搭乘去程"),(l,f)=>(n(),x(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[9]||(t[9]=e("p",null,"二區:",-1)),e("div",nt,[(n(!0),d(v,null,m((C=i(T))==null?void 0:C.filter(l=>l.departure==="搭乘去程"),(l,f)=>(n(),x(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[10]||(t[10]=e("p",null,"三區:",-1)),e("div",rt,[(n(!0),d(v,null,m((g=i(U))==null?void 0:g.filter(l=>l.departure==="搭乘去程"),(l,f)=>(n(),x(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[11]||(t[11]=e("p",null,"四區:",-1)),e("div",st,[(n(!0),d(v,null,m((s=i(B))==null?void 0:s.filter(l=>l.departure==="搭乘去程"),(l,f)=>(n(),x(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))])]),t[12]||(t[12]=e("p",{class:"font-bold"}," 搭乘回程遊覽車(信基->東湖) ",-1)),t[13]||(t[13]=e("p",null,"一區:",-1)),e("div",at,[(n(!0),d(v,null,m((c=i(N))==null?void 0:c.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(n(),x(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[14]||(t[14]=e("p",null,"二區:",-1)),e("div",ot,[(n(!0),d(v,null,m((M=i(T))==null?void 0:M.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(n(),x(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[15]||(t[15]=e("p",null,"三區:",-1)),e("div",it,[(n(!0),d(v,null,m((D=i(U))==null?void 0:D.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(n(),x(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))]),t[16]||(t[16]=e("p",null,"四區:",-1)),e("div",ut,[(n(!0),d(v,null,m((E=i(B))==null?void 0:E.filter(l=>l.returnRide==="搭乘回程"),(l,f)=>(n(),x(p,{key:f,color:"info",variant:"soft"},{default:o(()=>[u(a(l.name),1)]),_:2},1024))),128))])]}),selfGo:o(()=>{var k,C;return[t[17]||(t[17]=e("p",null,"自行前往(早):",-1)),e("div",ft,[(n(!0),d(v,null,m((k=i(_))==null?void 0:k.filter(g=>g.departure==="自行前往"),(g,s)=>(n(),x(p,{key:s,color:"info",variant:"soft"},{default:o(()=>[u(a(g.name),1)]),_:2},1024))),128))]),t[18]||(t[18]=e("p",null,"不搭回程(午):",-1)),e("div",dt,[(n(!0),d(v,null,m((C=i(_))==null?void 0:C.filter(g=>g.returnRide==="不搭回程"),(g,s)=>(n(),x(p,{key:s,color:"info",variant:"soft"},{default:o(()=>[u(a(g.name),1)]),_:2},1024))),128))])]}),_:1})])}}});export{wt as default};
